{"version":3,"file":"RelationshipsPanel.stories-89db0f99.js","sources":["../../src/enums/relationship-types.ts","../../src/components/relationships-panel/RelationshipsPanel.vue"],"sourcesContent":["export enum RelationshipTypes {\n  COURT_ORDERED_PARTY = 'Court Ordered Party',\n  DIRECTOR = 'Director',\n  HEIR_LEGAL_REP = 'Heir or Legal Representative',\n  OFFICER = 'Officer',\n  SHAREHOLDER = 'Shareholder'\n}\n","<template>\n  <v-card\n    id=\"relationships-panel\"\n    flat\n  >\n    <div\n      class=\"relationship-content\"\n      :style=\"{ backgroundColor: bgHex }\"\n    >\n      <v-row\n        no-gutters\n        class=\"align-center mt-5\"\n      >\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"heir-legal-rep-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.HEIR_LEGAL_REP\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"checkbox-label\">{{ RelationshipTypes.HEIR_LEGAL_REP }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"officer-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.OFFICER\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"checkbox-label\">{{ RelationshipTypes.OFFICER }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"director-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.DIRECTOR\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"checkbox-label\">{{ RelationshipTypes.DIRECTOR }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"shareholder-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.SHAREHOLDER\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"checkbox-label\">{{ RelationshipTypes.SHAREHOLDER }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"court-ordered-party-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.COURT_ORDERED_PARTY\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"checkbox-label\">{{ RelationshipTypes.COURT_ORDERED_PARTY }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n      </v-row>\n    </div>\n  </v-card>\n</template>\n<script lang=\"ts\">\n\nimport Vue from 'vue'\nimport { Component, Watch, Emit, Prop } from 'vue-property-decorator'\nimport { RelationshipTypes } from '@bcrs-shared-components/enums'\n\n@Component({})\nexport default class RelationshipsPanel extends Vue {\n  /** Draft restoration relationships */\n  @Prop({ default: () => [] }) readonly draftRelationships!: RelationshipTypes[]\n  @Prop({ default: '#fff' }) readonly bgHex!: string\n  @Prop({ default: false }) readonly showValidationErrors!: boolean\n\n  // Local properties\n  private selectedRelationships: RelationshipTypes[] = []\n  private displayErrorState = false\n  readonly RelationshipTypes = RelationshipTypes\n\n  /**\n   * Called when component is mounted.\n   * Sets previously checked relationships (if any) and emits initial validity.\n   */\n  mounted (): void {\n    if (this.draftRelationships.length > 0) {\n      this.selectedRelationships.push(...this.draftRelationships)\n    }\n    this.emitValidity()\n  }\n\n  /** Emits the changed relationships array. */\n  @Emit('changed')\n  private emitChangedRelationships (): any[] {\n    return this.selectedRelationships\n  }\n\n  /** Emits the component validity. */\n  @Emit('valid')\n  private emitValidity (): boolean {\n    const valid = (this.selectedRelationships.length > 0)\n    return valid\n  }\n\n  /**\n   * Emit events whenever the relationships array is changed (validation and the selected relationships array).\n   */\n  @Watch('selectedRelationships')\n  @Watch('showValidationErrors')\n  private setRelationships (): void {\n    // set checkbox error state\n    // then emit latest values + validity\n    this.displayErrorState = (this.showValidationErrors && (this.selectedRelationships.length === 0))\n    this.emitChangedRelationships()\n    this.emitValidity()\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/theme.scss';\n\n.relationships-content {\n  font-size: 1rem;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: stretch;\n}\n\n// don't show checkbox label error styling\n.checkbox-label {\n  color: $gray7;\n  font-weight: normal;\n}\n</style>\n"],"names":["RelationshipTypes","RelationshipsPanel","Vue","__publicField","__decorateClass","Prop","Emit","Watch","Component"],"mappings":"yUAAY,IAAAA,GAAAA,IACVA,EAAA,oBAAsB,sBACtBA,EAAA,SAAW,WACXA,EAAA,eAAiB,+BACjBA,EAAA,QAAU,UACVA,EAAA,YAAc,cALJA,IAAAA,GAAA,CAAA,CAAA,8LCyFZ,IAAAC,EAAA,cAAAC,CAAA,CAAA,kCAEAC,EAAA,2BACAA,EAAA,cACAA,EAAA,6BAGAA,EAAA,6BAAA,CAAA,GACAA,EAAA,yBAAA,IACAA,EAAA,yBAAAH,GAMA,SAAA,CACA,KAAA,mBAAA,OAAA,GACA,KAAA,sBAAA,KAAA,GAAA,KAAA,kBAAA,EAEA,KAAA,aAAA,CACA,CAIA,0BAAA,CACA,OAAA,KAAA,qBACA,CAIA,cAAA,CAEA,OADA,KAAA,sBAAA,OAAA,CAEA,CAOA,kBAAA,CAGA,KAAA,kBAAA,KAAA,sBAAA,KAAA,sBAAA,SAAA,EACA,KAAA,yBAAA,EACA,KAAA,aAAA,CACA,CACA,EA7CAI,EAAA,CAAAC,EAAA,CAAA,QAAA,IAAA,CAAA,EAAA,CAAA,EAFAJ,EAEA,UAAA,qBAAA,CAAA,EACAG,EAAA,CAAAC,EAAA,CAAA,QAAA,OAAA,CAAA,EAHAJ,EAGA,UAAA,QAAA,CAAA,EACAG,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAJAJ,EAIA,UAAA,uBAAA,CAAA,EAoBAG,EAAA,CADAE,EAAA,SAAA,CAAA,EAvBAL,EAwBA,UAAA,2BAAA,CAAA,EAMAG,EAAA,CADAE,EAAA,OAAA,CAAA,EA7BAL,EA8BA,UAAA,eAAA,CAAA,EAUAG,EAAA,CAFAG,EAAA,uBAAA,EACAA,EAAA,sBAAA,CAAA,EAvCAN,EAwCA,UAAA,mBAAA,CAAA,EAxCAA,EAAAG,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAP,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}