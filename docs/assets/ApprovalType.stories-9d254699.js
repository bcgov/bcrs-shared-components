var q=Object.defineProperty;var z=(s,t,e)=>t in s?q(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var a=(s,t,e)=>(z(s,typeof t!="symbol"?t+"":t,e),e);import{V as b}from"./vue.esm-b1e57a2f.js";import{C as H,P as n,E as g,n as J}from"./_plugin-vue2_normalizer-b11a0120.js";import{W as K}from"./Watch-62f8b699.js";import{D as L}from"./DatePicker-7f83112e.js";import"./validation-mixin-95925507.js";import"./lodash-f6b38868.js";import"./_commonjsHelpers-de833af9.js";var i=(s=>(s.VIA_COURT_ORDER="courtOrder",s.VIA_REGISTRAR="registrar",s))(i||{}),Q=Object.defineProperty,X=Object.getOwnPropertyDescriptor,o=(s,t,e,p)=>{for(var l=p>1?void 0:p?X(t,e):t,h=s.length-1,R;h>=0;h--)(R=s[h])&&(l=(p?R(t,e,l):R(l))||l);return p&&l&&Q(t,e,l),l};let r=class extends b{constructor(){super(...arguments);a(this,"$refs");a(this,"courtOrderNumber");a(this,"approvedByRegistrar");a(this,"approvedByCourtOrder");a(this,"filingType");a(this,"noticeDate");a(this,"applicationDate");a(this,"invalidSection");a(this,"isCourtOrderRadio");a(this,"validate");a(this,"approvalTypeSelected",null);a(this,"courtOrderNumberText","");a(this,"noticeDateText","");a(this,"applicationDateText","");a(this,"ApprovalTypes",i);a(this,"courtOrderNumRules",[e=>!e||!/^\s/g.test(e)||"Invalid spaces",e=>!e||!/\s$/g.test(e)||"Invalid spaces",e=>!e||!(e.length<5)||"Court order number is too short",e=>!e||!(e.length>20)||"Court order number is too long",e=>!!e||"A Court Order number is required"])}get noticeDateErrorMsg(){return this.validate&&!this.noticeDateText?"Date is required":null}get applicationDateErrorMsg(){return this.validate&&!this.applicationDateText?"Date is required":null}mounted(){this.approvedByRegistrar?(this.setApprovalTypeSelected(i.VIA_REGISTRAR),this.setNoticeDateText(this.noticeDate),this.setApplicationDateText(this.applicationDate)):this.approvedByCourtOrder&&(this.setApprovalTypeSelected(i.VIA_COURT_ORDER),this.setCourtOrderNumberText(this.courtOrderNumber))}async onValidateChanged(e){e&&(await b.nextTick(),this.validateComponent())}validateComponent(){var p;let e=!0;return this.approvalTypeSelected===i.VIA_COURT_ORDER?e=(p=this.$refs.courtNumRef)==null?void 0:p.validate():this.approvalTypeSelected===i.VIA_REGISTRAR?e=!this.validate||!!this.noticeDateText&&!!this.applicationDateText:e=!1,e}async setApprovalTypeSelected(e){this.approvalTypeSelected=e,await b.nextTick(),e===i.VIA_REGISTRAR?this.setCourtOrderNumberText(""):e===i.VIA_COURT_ORDER&&(this.setNoticeDateText(""),this.setApplicationDateText(""))}setCourtOrderNumberText(e){this.courtOrderNumberText=e,this.validateComponent()}getRadioText(e){return e===i.VIA_COURT_ORDER&&this.isCourtOrderRadio?`This ${this.filingType} is approved by court order.`:e===i.VIA_COURT_ORDER&&!this.isCourtOrderRadio?"Enter a Court Order number, as the restoration of this company was ordered by the court:":e===i.VIA_REGISTRAR?`This ${this.filingType} is approved by registrar.`:"[unknown]"}setNoticeDateText(e){this.noticeDateText=e,this.validateComponent()}setApplicationDateText(e){this.applicationDateText=e,this.validateComponent()}};o([n({default:""})],r.prototype,"courtOrderNumber",2);o([n({default:!1})],r.prototype,"approvedByRegistrar",2);o([n({default:!1})],r.prototype,"approvedByCourtOrder",2);o([n({default:"restoration"})],r.prototype,"filingType",2);o([n({default:""})],r.prototype,"noticeDate",2);o([n({default:""})],r.prototype,"applicationDate",2);o([n({default:!1})],r.prototype,"invalidSection",2);o([n({default:!0})],r.prototype,"isCourtOrderRadio",2);o([n({default:!1})],r.prototype,"validate",2);o([K("validate")],r.prototype,"onValidateChanged",1);o([g("valid")],r.prototype,"validateComponent",1);o([g("approvalTypeChange")],r.prototype,"setApprovalTypeSelected",1);o([g("courtNumberChange")],r.prototype,"setCourtOrderNumberText",1);o([g("update:noticeDate")],r.prototype,"setNoticeDateText",1);o([g("update:applicationDate")],r.prototype,"setApplicationDateText",1);r=o([H({components:{DatePicker:L}})],r);var Y=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{class:{"invalid-section":t.invalidSection},attrs:{id:"approval-type"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{staticClass:"pr-4",attrs:{cols:"12",sm:"3"}},[e("label",{class:{"error-text":t.invalidSection}},[t._v("Approval Type")])]),e("v-col",{staticClass:"mb-n5",attrs:{cols:"12",sm:"9"}},[e("v-radio-group",{staticClass:"mt-0",attrs:{value:t.approvalTypeSelected},on:{change:function(p){return t.setApprovalTypeSelected(p)}}},[t.isCourtOrderRadio?e("v-radio",{attrs:{id:"court-order-radio",label:t.getRadioText(t.ApprovalTypes.VIA_COURT_ORDER),value:t.ApprovalTypes.VIA_COURT_ORDER}}):e("span",{staticClass:"v-label"},[t._v(" "+t._s(t.getRadioText(t.ApprovalTypes.VIA_COURT_ORDER))+" ")]),e("v-expand-transition",[t.approvalTypeSelected===t.ApprovalTypes.VIA_COURT_ORDER?e("v-form",{ref:"courtNumRef"},[e("v-text-field",{staticClass:"ml-8 mt-2",attrs:{id:"court-order-number-input",label:"Court Order Number",value:t.courtOrderNumberText,rules:t.validate?t.courtOrderNumRules:[],"hide-details":"auto",filled:""},on:{input:function(p){return t.setCourtOrderNumberText(p)}}})],1):t._e()],1),t.isCourtOrderRadio?e("v-radio",{staticClass:"mt-4",attrs:{id:"registrar-radio",label:t.getRadioText(t.ApprovalTypes.VIA_REGISTRAR),value:t.ApprovalTypes.VIA_REGISTRAR}}):t._e(),e("v-expand-transition",[t.approvalTypeSelected===t.ApprovalTypes.VIA_REGISTRAR?e("div",[e("div",{staticClass:"ml-8 mt-2"},[e("span",{staticClass:"v-label"},[t._v("Enter the date the Notice of the Application for Restoration was published in the BC Gazette: ")]),e("DatePicker",{staticClass:"mt-2",attrs:{id:"date-picker-notice",title:"Select Date",nudgeRight:150,initialValue:t.noticeDateText,errorMsg:t.noticeDateErrorMsg},on:{emitDateSync:function(p){return t.setNoticeDateText(p)}}})],1),e("div",{staticClass:"ml-8 mt-5"},[e("span",{staticClass:"v-label"},[t._v("Enter the date the Application for Restoration was mailed to the company:")]),e("DatePicker",{staticClass:"mt-2",attrs:{id:"date-picker-application",title:"Select Date",nudgeRight:150,initialValue:t.applicationDateText,errorMsg:t.applicationDateErrorMsg},on:{emitDateSync:function(p){return t.setApplicationDateText(p)}}})],1)]):t._e()])],1)],1)],1)],1)},Z=[],F=J(r,Y,Z,!1,null,"e738096e",null,null);const ee=F.exports;F.exports.__docgenInfo={exportName:"default",displayName:"ApprovalType",description:"",tags:{},props:[{name:"courtOrderNumber",tags:{},description:`The initial court order number.
Is only read when the component is mounted.`,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"approvedByRegistrar",tags:{},description:"Whether restoration was approved by the registrar.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"approvedByCourtOrder",tags:{},description:"Whether restoration was approved by court order.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"filingType",tags:{},description:"Filing name used in radio options.",type:{name:"string"},defaultValue:{func:!1,value:"'restoration'"}},{name:"noticeDate",tags:{},description:`The initial date the notice of the application for restoration was published in the BC Gazette.
Is only read when the component is mounted.`,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"applicationDate",tags:{},description:`The initial date the application for restoration was mailed to the company.
Is only read when the component is mounted.`,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"invalidSection",tags:{},description:"Whether this section is invalid.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isCourtOrderRadio",tags:{},description:"Whether to show the court order radio button.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"validate",tags:{},description:"Whether validation is enabled.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"valid",description:"Validates the component and emits the validity."},{name:"approvalTypeChange",description:"Sets Approval Type property, clears old data and emits the new value."},{name:"courtNumberChange",description:"Sets Court Order Number property, validates the component and emits the new value."},{name:"update:noticeDate",description:"Sets Notice Date property, validates the component and emits the new value."},{name:"update:applicationDate",description:"Sets Application Date property, validates the component and emits the new value."}],sourceFiles:["/Users/dev/Downloads/Data/Projects/BC/Relationship/bcrs-shared-components/src/components/approval-type/ApprovalType.vue"]};const de={title:"component/ApprovalType"},d=(s,{argTypes:t})=>({props:Object.keys(t),components:{ApprovalType:ee},template:'<approval-type v-bind="$props" />'}),c=d.bind({});c.args={};const u=d.bind({});u.args={isCourtOrderOnly:!0};const m=d.bind({});m.args={filingType:"conversion to full restoration"};const v=d.bind({});v.args={approvedByRegistrar:!0};const y=d.bind({});y.args={courtOrderNumber:"99-1234567"};const f=d.bind({});f.args={approvedByRegistrar:!0,noticeDate:"2023-02-02",applicationDate:"2023-01-15"};const T=d.bind({});T.args={courtOrderNumber:"99-1234567",isExtension:!0,isCourtOrderOnly:!0,isCourtOrderRadio:!1};var O,C,_;c.parameters={...c.parameters,docs:{...(O=c.parameters)==null?void 0:O.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    ApprovalType
  },
  template: '<approval-type v-bind="$props" />' // $props comes from args below
})`,...(_=(C=c.parameters)==null?void 0:C.docs)==null?void 0:_.source}}};var D,A,x;u.parameters={...u.parameters,docs:{...(D=u.parameters)==null?void 0:D.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    ApprovalType
  },
  template: '<approval-type v-bind="$props" />' // $props comes from args below
})`,...(x=(A=u.parameters)==null?void 0:A.docs)==null?void 0:x.source}}};var V,S,I;m.parameters={...m.parameters,docs:{...(V=m.parameters)==null?void 0:V.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    ApprovalType
  },
  template: '<approval-type v-bind="$props" />' // $props comes from args below
})`,...(I=(S=m.parameters)==null?void 0:S.docs)==null?void 0:I.source}}};var E,N,w;v.parameters={...v.parameters,docs:{...(E=v.parameters)==null?void 0:E.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    ApprovalType
  },
  template: '<approval-type v-bind="$props" />' // $props comes from args below
})`,...(w=(N=v.parameters)==null?void 0:N.docs)==null?void 0:w.source}}};var $,B,j;y.parameters={...y.parameters,docs:{...($=y.parameters)==null?void 0:$.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    ApprovalType
  },
  template: '<approval-type v-bind="$props" />' // $props comes from args below
})`,...(j=(B=y.parameters)==null?void 0:B.docs)==null?void 0:j.source}}};var k,P,U;f.parameters={...f.parameters,docs:{...(k=f.parameters)==null?void 0:k.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    ApprovalType
  },
  template: '<approval-type v-bind="$props" />' // $props comes from args below
})`,...(U=(P=f.parameters)==null?void 0:P.docs)==null?void 0:U.source}}};var W,G,M;T.parameters={...T.parameters,docs:{...(W=T.parameters)==null?void 0:W.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    ApprovalType
  },
  template: '<approval-type v-bind="$props" />' // $props comes from args below
})`,...(M=(G=T.parameters)==null?void 0:G.docs)==null?void 0:M.source}}};const ce=["Default","defaultCourtOrderOnly","conversionToFullRestoration","draftViaRegistrar","draftViaCourtOrder","draftViaRegistrarWithDates","draftExtensionWithCourtOrder"];export{c as Default,ce as __namedExportsOrder,m as conversionToFullRestoration,de as default,u as defaultCourtOrderOnly,T as draftExtensionWithCourtOrder,y as draftViaCourtOrder,v as draftViaRegistrar,f as draftViaRegistrarWithDates};
//# sourceMappingURL=ApprovalType.stories-9d254699.js.map
