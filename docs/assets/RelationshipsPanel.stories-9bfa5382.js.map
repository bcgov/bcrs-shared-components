{"version":3,"file":"RelationshipsPanel.stories-9bfa5382.js","sources":["../../src/enums/relationship-types.ts","../../src/components/relationships-panel/RelationshipsPanel.vue"],"sourcesContent":["export enum RelationshipTypes {\r\n  COURT_ORDERED_PARTY = 'Court Ordered Party',\r\n  DIRECTOR = 'Director',\r\n  HEIR_LEGAL_REP = 'Heir or Legal Representative',\r\n  OFFICER = 'Officer',\r\n  SHAREHOLDER = 'Shareholder'\r\n}\r\n","<template>\r\n  <v-card\r\n    id=\"relationships-panel\"\r\n    flat\r\n  >\r\n    <div\r\n      class=\"relationship-content\"\r\n      :style=\"{ backgroundColor: bgHex }\"\r\n    >\r\n      <v-row\r\n        no-gutters\r\n        class=\"align-center mt-5\"\r\n      >\r\n        <v-col cols=\"4\">\r\n          <v-checkbox\r\n            id=\"heir-legal-rep-checkbox\"\r\n            v-model=\"selectedRelationships\"\r\n            class=\"mt-0\"\r\n            :value=\"RelationshipTypes.HEIR_LEGAL_REP\"\r\n            :error=\"displayErrorState\"\r\n          >\r\n            <template #label>\r\n              <span class=\"vuetify-label\">{{ RelationshipTypes.HEIR_LEGAL_REP }}</span>\r\n            </template>\r\n          </v-checkbox>\r\n        </v-col>\r\n        <v-col cols=\"4\">\r\n          <v-checkbox\r\n            id=\"officer-checkbox\"\r\n            v-model=\"selectedRelationships\"\r\n            class=\"mt-0\"\r\n            :value=\"RelationshipTypes.OFFICER\"\r\n            :error=\"displayErrorState\"\r\n          >\r\n            <template #label>\r\n              <span class=\"vuetify-label\">{{ RelationshipTypes.OFFICER }}</span>\r\n            </template>\r\n          </v-checkbox>\r\n        </v-col>\r\n        <v-col cols=\"4\">\r\n          <v-checkbox\r\n            id=\"director-checkbox\"\r\n            v-model=\"selectedRelationships\"\r\n            class=\"mt-0\"\r\n            :value=\"RelationshipTypes.DIRECTOR\"\r\n            :error=\"displayErrorState\"\r\n          >\r\n            <template #label>\r\n              <span class=\"vuetify-label\">{{ RelationshipTypes.DIRECTOR }}</span>\r\n            </template>\r\n          </v-checkbox>\r\n        </v-col>\r\n        <v-col cols=\"4\">\r\n          <v-checkbox\r\n            id=\"shareholder-checkbox\"\r\n            v-model=\"selectedRelationships\"\r\n            class=\"mt-0\"\r\n            :value=\"RelationshipTypes.SHAREHOLDER\"\r\n            :error=\"displayErrorState\"\r\n          >\r\n            <template #label>\r\n              <span class=\"vuetify-label\">{{ RelationshipTypes.SHAREHOLDER }}</span>\r\n            </template>\r\n          </v-checkbox>\r\n        </v-col>\r\n        <v-col cols=\"4\">\r\n          <v-checkbox\r\n            id=\"court-ordered-party-checkbox\"\r\n            v-model=\"selectedRelationships\"\r\n            class=\"mt-0\"\r\n            :value=\"RelationshipTypes.COURT_ORDERED_PARTY\"\r\n            :error=\"displayErrorState\"\r\n          >\r\n            <template #label>\r\n              <span class=\"vuetify-label\">{{ RelationshipTypes.COURT_ORDERED_PARTY }}</span>\r\n            </template>\r\n          </v-checkbox>\r\n        </v-col>\r\n      </v-row>\r\n    </div>\r\n  </v-card>\r\n</template>\r\n<script lang=\"ts\">\r\n\r\nimport Vue from 'vue'\r\nimport { Component, Watch, Emit, Prop } from 'vue-property-decorator'\r\nimport { RelationshipTypes } from '@bcrs-shared-components/enums'\r\n\r\n@Component({})\r\nexport default class RelationshipsPanel extends Vue {\r\n  /** Draft restoration relationships */\r\n  @Prop({ default: () => [] }) readonly draftRelationships!: RelationshipTypes[]\r\n  @Prop({ default: '#fff' }) readonly bgHex!: string\r\n  @Prop({ default: false }) readonly showValidationErrors!: boolean\r\n\r\n  // Local properties\r\n  private selectedRelationships: RelationshipTypes[] = []\r\n  private displayErrorState = false\r\n  readonly RelationshipTypes = RelationshipTypes\r\n\r\n  /**\r\n   * Called when component is mounted.\r\n   * Automatically check all previously checked relationships (if any) when user continues a draft.\r\n   */\r\n  mounted (): void {\r\n    if (this.draftRelationships.length > 0) {\r\n      this.selectedRelationships.push(...this.draftRelationships)\r\n    }\r\n  }\r\n\r\n  /** The validation rules for the Relationships. */\r\n  private setDisplayErrorState (): void {\r\n    this.displayErrorState = (this.showValidationErrors && this.selectedRelationships.length === 0)\r\n  }\r\n\r\n  // Emit the selected relationships array.\r\n  @Emit('changed')\r\n  private relationshipsChanged (): any[] {\r\n    return this.selectedRelationships\r\n  }\r\n\r\n  // Emit a boolean (validation) which is if at least one relationship is selected.\r\n  @Emit('valid')\r\n  private relationshipsValid (event: boolean): boolean {\r\n    return event\r\n  }\r\n\r\n  /**\r\n   * Emit events whenever the relationships array is changed (validation and the selected relationships array).\r\n   */\r\n  @Watch('selectedRelationships')\r\n  @Watch('showValidationErrors')\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  private setRelationships (event) {\r\n    this.setDisplayErrorState()\r\n    this.relationshipsChanged()\r\n    if (this.selectedRelationships.length === 0) {\r\n      this.relationshipsValid(false)\r\n    } else {\r\n      this.relationshipsValid(true)\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/theme.scss';\r\n\r\n.relationships-content {\r\n  font-size: 1rem;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n}\r\n\r\n.vuetify-label {\r\n    color: $gray7;\r\n    font-weight: normal;\r\n}\r\n\r\n</style>\r\n"],"names":["RelationshipTypes","RelationshipsPanel","Vue","__publicField","event","__decorateClass","Prop","Emit","Watch","Component"],"mappings":"yUAAY,IAAAA,GAAAA,IACVA,EAAA,oBAAsB,sBACtBA,EAAA,SAAW,WACXA,EAAA,eAAiB,+BACjBA,EAAA,QAAU,UACVA,EAAA,YAAc,cALJA,IAAAA,GAAA,CAAA,CAAA,8LCyFZ,IAAAC,EAAA,cAAAC,CAAA,CAAA,kCAEAC,EAAA,2BACAA,EAAA,cACAA,EAAA,6BAGAA,EAAA,6BAAA,CAAA,GACAA,EAAA,yBAAA,IACAA,EAAA,yBAAAH,GAMA,SAAA,CACA,KAAA,mBAAA,OAAA,GACA,KAAA,sBAAA,KAAA,GAAA,KAAA,kBAAA,CAEA,CAGA,sBAAA,CACA,KAAA,kBAAA,KAAA,sBAAA,KAAA,sBAAA,SAAA,CACA,CAIA,sBAAA,CACA,OAAA,KAAA,qBACA,CAIA,mBAAAI,EAAA,CACA,OAAAA,CACA,CAQA,iBAAAA,EAAA,CACA,KAAA,qBAAA,EACA,KAAA,qBAAA,EACA,KAAA,sBAAA,SAAA,EACA,KAAA,mBAAA,EAAA,EAEA,KAAA,mBAAA,EAAA,CAEA,CACA,EAnDAC,EAAA,CAAAC,EAAA,CAAA,QAAA,IAAA,CAAA,EAAA,CAAA,EAFAL,EAEA,UAAA,qBAAA,CAAA,EACAI,EAAA,CAAAC,EAAA,CAAA,QAAA,OAAA,CAAA,EAHAL,EAGA,UAAA,QAAA,CAAA,EACAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAJAL,EAIA,UAAA,uBAAA,CAAA,EAwBAI,EAAA,CADAE,EAAA,SAAA,CAAA,EA3BAN,EA4BA,UAAA,uBAAA,CAAA,EAMAI,EAAA,CADAE,EAAA,OAAA,CAAA,EAjCAN,EAkCA,UAAA,qBAAA,CAAA,EAUAI,EAAA,CAHAG,EAAA,uBAAA,EACAA,EAAA,sBAAA,CAAA,EA1CAP,EA4CA,UAAA,mBAAA,CAAA,EA5CAA,EAAAI,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAR,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}