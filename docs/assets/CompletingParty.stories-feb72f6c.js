var h=Object.defineProperty;var C=(l,t,e)=>t in l?h(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var s=(l,t,e)=>(C(l,typeof t!="symbol"?t+"":t,e),e);import{V as _}from"./vue.esm-b1e57a2f.js";import{E as u,C as A,P as m,n as b}from"./_plugin-vue2_normalizer-b11a0120.js";import{W as p}from"./Watch-62f8b699.js";import{B as x,v as n}from"./BaseAddress-d969009f.js";import{l as N}from"./lodash-bc5bedbb.js";import"./_commonjsHelpers-042e6b4d.js";import"./validation-mixin-aac6b4a2.js";var V=Object.defineProperty,w=Object.getOwnPropertyDescriptor,i=(l,t,e,a)=>{for(var o=a>1?void 0:a?w(t,e):t,c=l.length-1,g;c>=0;c--)(g=l[c])&&(o=(a?g(t,e,o):g(o))||o);return a&&o&&V(t,e,o),o};let r=class extends _{constructor(){super(...arguments);s(this,"$refs");s(this,"completingParty");s(this,"enableAddEdit");s(this,"addressSchema");s(this,"validate");s(this,"invalidSection");s(this,"completingPartyFormValid",!1);s(this,"mailingAddressValid",!1);s(this,"newCompletingParty",null);s(this,"firstNameRules",[e=>!!e||"A first name is required",e=>!/^\s/g.test(e)||"Invalid spaces",e=>!/\s$/g.test(e)||"Invalid spaces",e=>(e==null?void 0:e.length)<=20||"Cannot exceed 20 characters"]);s(this,"middleNameRules",[e=>!/^\s/g.test(e)||"Invalid spaces",e=>!/\s$/g.test(e)||"Invalid spaces",e=>!e||e.length<=20||"Cannot exceed 20 characters"]);s(this,"lastNameRules",[e=>!!e||"A last name is required",e=>!/^\s/g.test(e)||"Invalid spaces",e=>!/\s$/g.test(e)||"Invalid spaces",e=>(e==null?void 0:e.length)<=30||"Cannot exceed 30 characters"])}get completingPartyName(){return`
      ${this.completingParty.firstName}
      ${this.completingParty.middleName||""}
      ${this.completingParty.lastName}
    `||"Unknown"}onMailingAddressUpdate(e){N.isEqual(this.newCompletingParty.mailingAddress,e)||(this.newCompletingParty.mailingAddress=e)}onValidate(){this.$refs.completingPartyForm&&this.$refs.completingPartyForm.validate(),this.$refs.mailingAddress&&this.$refs.mailingAddress.$refs.addressForm.validate()}onCompletingParty(){this.newCompletingParty=this.completingParty}onCompletingPartyFormValid(){return this.completingPartyFormValid&&this.mailingAddressValid}onMailingAddressValid(){return this.completingPartyFormValid&&this.mailingAddressValid}onNewCompletingParty(){return this.newCompletingParty}};i([m({default:()=>{}})],r.prototype,"completingParty",2);i([m({default:!1})],r.prototype,"enableAddEdit",2);i([m({default:()=>{}})],r.prototype,"addressSchema",2);i([m({default:!1})],r.prototype,"validate",2);i([m({default:!1})],r.prototype,"invalidSection",2);i([p("validate")],r.prototype,"onValidate",1);i([p("completingParty",{immediate:!0})],r.prototype,"onCompletingParty",1);i([p("completingPartyFormValid"),u("valid")],r.prototype,"onCompletingPartyFormValid",1);i([p("mailingAddressValid"),u("valid")],r.prototype,"onMailingAddressValid",1);i([p("newCompletingParty",{deep:!0}),u("update")],r.prototype,"onNewCompletingParty",1);r=i([A({components:{BaseAddress:x}})],r);var F=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("v-card",{attrs:{id:"completing-party",flat:""}},[t.enableAddEdit?[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"12",sm:"3"}},[e("label",{staticClass:"add-person-header"},[e("span",{class:{"error-text":t.invalidSection}},[t._v("Add Person")])])]),e("v-col",[e("v-form",{ref:"completingPartyForm",on:{submit:function(a){a.preventDefault()}},model:{value:t.completingPartyFormValid,callback:function(a){t.completingPartyFormValid=a},expression:"completingPartyFormValid"}},[e("label",{staticClass:"sub-header"},[t._v("Person's Name")]),e("v-row",{staticClass:"pt-6",attrs:{"no-gutters":""}},[e("v-col",[e("v-text-field",{staticClass:"item",attrs:{id:"person__first-name",filled:"",label:"First Name",rules:t.firstNameRules,value:t.completingParty.firstName},on:{change:function(a){t.newCompletingParty.firstName=a}}})],1),e("v-col",{staticClass:"px-4"},[e("v-text-field",{staticClass:"item",attrs:{id:"person__middle-name",filled:"",label:"Middle Name",rules:t.middleNameRules,value:t.completingParty.middleName},on:{change:function(a){t.newCompletingParty.middleName=a}}})],1),e("v-col",[e("v-text-field",{staticClass:"item",attrs:{id:"person__last-name",filled:"",label:"Last Name",rules:t.lastNameRules,value:t.completingParty.lastName},on:{change:function(a){t.newCompletingParty.lastName=a}}})],1)],1),e("label",{staticClass:"sub-header mt-2"},[t._v("Mailing Address")]),e("div",{staticClass:"address-wrapper pt-6 mb-n2"},[e("BaseAddress",{ref:"mailingAddress",attrs:{editing:!0,schema:t.addressSchema,address:t.completingParty.mailingAddress},on:{"update:address":function(a){return t.onMailingAddressUpdate(a)},valid:function(a){t.mailingAddressValid=a}}})],1)],1)],1)],1)]:[e("v-row",{staticClass:"list-header pb-3",attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"12",sm:"3"}},[t._v(" Name ")]),e("v-col",{attrs:{cols:"12",sm:"3"}},[t._v(" Mailing Address ")])],1),e("v-row",{staticClass:"list-content pt-3",attrs:{"no-gutters":""}},[e("v-col",{staticClass:"pr-2",attrs:{cols:"12",sm:"3"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{staticClass:"mt-n1 ml-n1 mr-3",attrs:{cols:"1"}},[e("v-icon",{attrs:{color:"gray9"}},[t._v(" mdi-account ")])],1),e("v-col",[e("p",{staticClass:"list-subtitle ma-0 mb-1"},[t._v(" "+t._s(t.completingPartyName)+" ")])])],1)],1),e("v-col",{attrs:{cols:"12",sm:"8"}},[e("BaseAddress",{staticClass:"peoples-roles-mailing-address",attrs:{address:t.completingParty.mailingAddress}})],1)],1)]],2)},$=[],P=b(r,F,$,!1,null,"bc9f752c",null,null);const L=P.exports;P.exports.__docgenInfo={exportName:"default",displayName:"CompletingParty",description:"",tags:{},props:[{name:"completingParty",tags:{},description:"The current completing party.",type:{name:"CompletingPartyIF"},defaultValue:{func:!0,value:"() => {}"}},{name:"enableAddEdit",tags:{},description:"Enable Add / Edit mode.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"addressSchema",tags:{},type:{name:"any"},defaultValue:{func:!0,value:"() => {}"}},{name:"validate",tags:{},description:"Whether to perform validation.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"invalidSection",tags:{},description:"Whether to show validation styling.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["C:/Users/kjazzar/Downloads/repos/bcrs-shared-components/src/components/completing-party/CompletingParty.vue"]};const U={title:"component/CompletingParty"},S={streetAddress:{required:n.required,maxLength:n.maxLength(50)},streetAddressAdditional:{maxLength:n.maxLength(50)},addressCity:{required:n.required,maxLength:n.maxLength(40)},addressCountry:{required:n.required},addressRegion:{maxLength:n.maxLength(2)},postalCode:{required:n.required,maxLength:n.maxLength(15)},deliveryInstructions:{maxLength:n.maxLength(80)}},E=(l,{argTypes:t})=>({props:Object.keys(t),components:{CompletingParty:L},template:'<v-card flat><completing-party v-bind="$props" /></v-card>'}),d=E.bind({});d.args={completingParty:{firstName:"Cameron",middleName:"D",lastName:"Bowler",mailingAddress:{addressCity:"Victoria",addressCountry:"Canada",addressRegion:"BC",deliveryInstructions:"Test test test",postalCode:"V8V 1s8",streetAddress:"1234",streetAddressAdditional:"Test Street Additional"}},enableAddEdit:!1,addressSchema:S,validate:!1,invalidSection:!1};var f,y,v;d.parameters={...d.parameters,docs:{...(f=d.parameters)==null?void 0:f.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    CompletingParty
  },
  template: '<v-card flat><completing-party v-bind="$props" /></v-card>'
})`,...(v=(y=d.parameters)==null?void 0:y.docs)==null?void 0:v.source}}};const W=["Default"];export{d as Default,W as __namedExportsOrder,U as default};
//# sourceMappingURL=CompletingParty.stories-feb72f6c.js.map
