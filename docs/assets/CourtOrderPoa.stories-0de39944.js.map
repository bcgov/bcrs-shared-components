{"version":3,"file":"CourtOrderPoa.stories-0de39944.js","sources":["../../src/components/court-order-poa/CourtOrderPoa.vue"],"sourcesContent":["<template>\n  <div id=\"court-order-poa\">\n    <v-row no-gutters>\n      <v-col\n        v-if=\"displaySideLabels\"\n        cols=\"12\"\n        sm=\"3\"\n        class=\"pr-4\"\n      >\n        <label\n          id=\"court-order-label\"\n          :class=\"{'error-text': invalidSection}\"\n        >Court Order Number</label>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        :sm=\"displaySideLabels ? 9 : 12\"\n      >\n        <v-form\n          id=\"court-num-form\"\n          ref=\"courtNumRef\"\n          v-model=\"valid\"\n        >\n          <v-text-field\n            id=\"court-order-number-input\"\n            v-model=\"courtOrderNumber\"\n            label=\"Court Order Number\"\n            :rules=\"courtOrderNumRules\"\n            filled\n          />\n        </v-form>\n      </v-col>\n    </v-row>\n    <v-row no-gutters>\n      <v-col\n        v-if=\"displaySideLabels\"\n        cols=\"12\"\n        sm=\"3\"\n        class=\"pr-4\"\n      >\n        <label id=\"poa-label\">Plan of Arrangement</label>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        :sm=\"displaySideLabels ? 9 : 12\"\n      >\n        <v-checkbox\n          id=\"plan-of-arrangement-checkbox\"\n          v-model=\"planOfArrangement\"\n          class=\"mt-0 pt-0\"\n          hide-details\n          label=\"This filing is pursuant to a Plan of Arrangement\"\n        />\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue'\nimport { Component, Emit, Prop, Watch } from 'vue-property-decorator'\nimport { FormIF } from '@bcrs-shared-components/interfaces'\n\n@Component({})\nexport default class CourtOrderPoa extends Vue {\n  // Refs\n  $refs!: Vue['$refs'] & {\n    courtNumRef: FormIF\n  }\n\n  /** Draft court order number. */\n  @Prop({ default: '' }) readonly draftCourtOrderNumber!: string\n\n  /** Draft plan of arrangement. */\n  @Prop({ default: false }) readonly hasDraftPlanOfArrangement!: boolean\n\n  /** Prompt Error. */\n  @Prop({ default: false }) readonly invalidSection!: boolean\n\n  /** Display side labels. */\n  @Prop({ default: true }) readonly displaySideLabels!: boolean\n\n  /** Whether court order number is required regardless plan of arrangement. */\n  @Prop({ default: false }) readonly courtOrderNumberRequired!: boolean\n\n  // Local properties\n  private courtOrderNumber = ''\n  private courtOrderNumRules = []\n  private planOfArrangement = false\n  private valid = false\n\n  /** Called when component is mounted. */\n  mounted (): void {\n    // Set default draft values if they exist\n    if (this.draftCourtOrderNumber) this.courtOrderNumber = this.draftCourtOrderNumber\n    if (this.hasDraftPlanOfArrangement) this.planOfArrangement = this.hasDraftPlanOfArrangement\n  }\n\n  /** Clear rules and reset validations. */\n  private clearValidations (): void {\n    this.courtOrderNumRules = []\n    this.$refs.courtNumRef.resetValidation()\n  }\n\n  /** Triggers the form validation. */\n  public validate (): boolean {\n    return this.$refs.courtNumRef.validate()\n  }\n\n  @Watch('planOfArrangement')\n  @Watch('courtOrderNumber')\n  @Watch('courtOrderNumberRequired')\n  validateCourtNum (): void {\n    // Apply TextField rules\n    this.courtOrderNumRules = [\n      (v: string) => (!v || !/^\\s/g.test(v)) || 'Invalid spaces', // leading spaces\n      (v: string) => (!v || !/\\s$/g.test(v)) || 'Invalid spaces', // trailing spaces\n      (v: string) => (!v || !(v.length < 5)) || 'Court order number is invalid',\n      (v: string) => (!v || !(v.length > 20)) || 'Court order number is invalid'\n    ]\n    if (this.courtOrderNumberRequired || this.planOfArrangement) {\n      this.courtOrderNumRules.push((v: string) => !!v || 'A Court Order number is required')\n    }\n    this.$refs.courtNumRef.validate()\n  }\n\n  /** Emit court order number. */\n  @Watch('courtOrderNumber')\n  @Emit('emitCourtNumber')\n  private emitCourtNumber (): string { return this.courtOrderNumber }\n\n  /** Emit plan of arrangement. */\n  @Watch('planOfArrangement')\n  @Emit('emitPoa')\n  private emitPoa (): boolean {\n    return this.planOfArrangement\n  }\n\n  @Watch('valid')\n  @Emit('emitValid')\n  private emitValid (): boolean {\n    return this.valid\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/theme.scss';\n\n#court-order-label,\n#poa-label {\n  font-size: $px-16;\n  font-weight: bold;\n  color: $gray9;\n}\n\n:deep() {\n  .v-card__actions {\n    justify-content: flex-end;\n  }\n\n  .v-input .v-label {\n    font-weight: normal;\n    color: $gray7;\n  }\n\n  .theme--light.v-input input {\n    font-weight: normal;\n    color: $gray7;\n  }\n}\n</style>\n"],"names":["CourtOrderPoa","Vue","__publicField","v","__decorateClass","Prop","Watch","Emit","Component"],"mappings":"ygBAgEA,IAAAA,EAAA,cAAAC,CAAA,CAAA,kCAEAC,EAAA,cAKAA,EAAA,8BAGAA,EAAA,kCAGAA,EAAA,uBAGAA,EAAA,0BAGAA,EAAA,iCAGAA,EAAA,wBAAA,IACAA,EAAA,0BAAA,CAAA,GACAA,EAAA,yBAAA,IACAA,EAAA,aAAA,IAGA,SAAA,CAEA,KAAA,wBAAA,KAAA,iBAAA,KAAA,uBACA,KAAA,4BAAA,KAAA,kBAAA,KAAA,0BACA,CAGA,kBAAA,CACA,KAAA,mBAAA,GACA,KAAA,MAAA,YAAA,iBACA,CAGA,UAAA,CACA,OAAA,KAAA,MAAA,YAAA,SAAA,CACA,CAKA,kBAAA,CAEA,KAAA,mBAAA,CACAC,GAAA,CAAAA,GAAA,CAAA,OAAA,KAAAA,CAAA,GAAA,iBACAA,GAAA,CAAAA,GAAA,CAAA,OAAA,KAAAA,CAAA,GAAA,iBACAA,GAAA,CAAAA,GAAA,EAAAA,EAAA,OAAA,IAAA,gCACAA,GAAA,CAAAA,GAAA,EAAAA,EAAA,OAAA,KAAA,+BAAA,GAEA,KAAA,0BAAA,KAAA,oBACA,KAAA,mBAAA,KAAAA,GAAA,CAAA,CAAAA,GAAA,kCAAA,EAEA,KAAA,MAAA,YAAA,UACA,CAKA,iBAAA,CAAA,OAAA,KAAA,gBAAA,CAKA,SAAA,CACA,OAAA,KAAA,iBACA,CAIA,WAAA,CACA,OAAA,KAAA,KACA,CACA,EAxEAC,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAPAL,EAOA,UAAA,wBAAA,CAAA,EAGAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAVAL,EAUA,UAAA,4BAAA,CAAA,EAGAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAbAL,EAaA,UAAA,iBAAA,CAAA,EAGAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAhBAL,EAgBA,UAAA,oBAAA,CAAA,EAGAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAnBAL,EAmBA,UAAA,2BAAA,CAAA,EA6BAI,EAAA,CAHAE,EAAA,mBAAA,EACAA,EAAA,kBAAA,EACAA,EAAA,0BAAA,CAAA,EA/CAN,EAgDA,UAAA,mBAAA,CAAA,EAiBAI,EAAA,CAFAE,EAAA,kBAAA,EACAC,EAAA,iBAAA,CAAA,EAhEAP,EAiEA,UAAA,kBAAA,CAAA,EAKAI,EAAA,CAFAE,EAAA,mBAAA,EACAC,EAAA,SAAA,CAAA,EArEAP,EAsEA,UAAA,UAAA,CAAA,EAMAI,EAAA,CAFAE,EAAA,OAAA,EACAC,EAAA,WAAA,CAAA,EA3EAP,EA4EA,UAAA,YAAA,CAAA,EA5EAA,EAAAI,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAR,CAAA;;;;;;;;;;;;;;;;"}