{"version":3,"file":"DetailComment.stories-71976348.js","sources":["../../src/components/detail-comment/DetailComment.vue"],"sourcesContent":["<template>\n  <v-card\n    id=\"detail-comment-container\"\n    flat\n  >\n    <v-textarea\n      id=\"detail-comment-textarea\"\n      ref=\"textarea\"\n      :outlined=\"isStyle('outlined')\"\n      :filled=\"isStyle('filled')\"\n      auto-grow\n      :rows=\"rowCount\"\n      :counter=\"maxLength\"\n      :rules=\"rules\"\n      :value=\"value\"\n      :placeholder=\"placeholder\"\n      :autofocus=\"autofocus\"\n      @input=\"emitInput($event)\"\n    />\n  </v-card>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue'\nimport { Component, Prop, Watch, Emit } from 'vue-property-decorator'\nimport { debounce } from 'lodash'\n\n@Component({})\nexport default class DetailComment extends Vue {\n  /** Array of validations rules for the textarea. */\n  get rules (): Array<(v) => boolean | string> {\n    // exclude whitespace in minimum length check\n    // include whitespace in maximum length check\n    return [\n      val => (val && val.trim().length > 0) || 'Detail is required.',\n      val => (val && val.length <= this.maxLength) || 'Maximum characters exceeded.'\n    ]\n  }\n\n  /** Public method to reset Vuetify validation on textarea. */\n  public resetValidation (): void {\n    (this.$refs.textarea as any).resetValidation()\n  }\n\n  /** Comment (v-model) passed into this component (required). */\n  @Prop({ default: '' }) readonly value!: string\n\n  /** Placeholder passed into this component (optional). */\n  @Prop({ default: '' }) readonly placeholder!: string\n\n  /** Max Length passed into this component (optional). */\n  @Prop({ default: 4096 }) readonly maxLength!: number\n\n  /** Autofocus passed into this component (optional). */\n  @Prop({ default: false }) readonly autofocus!: boolean\n\n  @Prop({ default: 5 }) readonly rowCount!: number\n\n  @Prop({ default: 'outlined' }) readonly textAreaStyle!: string\n\n  /** Called when component is created. */\n  created (): void {\n    // inform parent of initial validity\n    this.emitValid(this.value)\n  }\n\n  protected isStyle (style: string): boolean {\n    return this.textAreaStyle.toLowerCase() === style.toLowerCase()\n  }\n\n  /**\n   * Called when prop changes (ie, v-model is updated by parent).\n   * This method is debounced to prevent excessive validation.\n   */\n  @Watch('value')\n  private onValueChanged = debounce((val: string) => {\n    this.emitValid(val)\n  }, 300)\n\n  /** Emits an event with the changed comment (ie, updated v-model). */\n  @Emit('input')\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected emitInput (val: string): void {}\n\n  /** Emits an event indicating whether or not this component is valid. */\n  @Emit('valid')\n  private emitValid (val: string): boolean {\n    // component is valid if every rule is valid\n    return this.rules.every(rule => rule(val) === true)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#detail-comment-container {\n  line-height: 1.2rem;\n  font-size: 0.875rem;\n}\n</style>\n"],"names":["DetailComment","Vue","__publicField","debounce","val","style","rule","__decorateClass","Prop","Watch","Emit","Component"],"mappings":"olBA4BA,IAAAA,EAAA,cAAAC,CAAA,CAAA,kCAiBAC,EAAA,cAGAA,EAAA,oBAGAA,EAAA,kBAGAA,EAAA,kBAEAA,EAAA,iBAEAA,EAAA,sBAiBAA,EAAA,sBAAAC,EAAAA,SAAAC,GAAA,CACA,KAAA,UAAAA,CAAA,GACA,GAAA,GA/CA,IAAA,OAAA,CAGA,MAAA,IACAA,GAAAA,EAAA,KAAA,EAAA,OAAA,GAAA,sBACAA,GAAAA,GAAAA,EAAA,QAAA,KAAA,WAAA,8BAAA,CAEA,CAGA,iBAAA,CACA,KAAA,MAAA,SAAA,iBACA,CAmBA,SAAA,CAEA,KAAA,UAAA,KAAA,KAAA,CACA,CAEA,QAAAC,EAAA,CACA,OAAA,KAAA,cAAA,YAAA,IAAAA,EAAA,YAAA,CACA,CAcA,UAAAD,EAAA,CAAA,CAIA,UAAAA,EAAA,CAEA,OAAA,KAAA,MAAA,SAAAE,EAAAF,CAAA,IAAA,EAAA,CACA,CACA,EA7CAG,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAjBAR,EAiBA,UAAA,QAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EApBAR,EAoBA,UAAA,cAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAvBAR,EAuBA,UAAA,YAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EA1BAR,EA0BA,UAAA,YAAA,CAAA,EAEAO,EAAA,CAAAC,EAAA,CAAA,QAAA,EAAA,CAAA,EA5BAR,EA4BA,UAAA,WAAA,CAAA,EAEAO,EAAA,CAAAC,EAAA,CAAA,QAAA,WAAA,CAAA,EA9BAR,EA8BA,UAAA,gBAAA,CAAA,EAiBAO,EAAA,CADAE,EAAA,OAAA,CAAA,EA9CAT,EA+CA,UAAA,iBAAA,CAAA,EAOAO,EAAA,CAFAG,EAAA,OAAA,CAAA,EApDAV,EAsDA,UAAA,YAAA,CAAA,EAIAO,EAAA,CADAG,EAAA,OAAA,CAAA,EAzDAV,EA0DA,UAAA,YAAA,CAAA,EA1DAA,EAAAO,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAX,CAAA;;;;;;;;;;;;;;;;"}