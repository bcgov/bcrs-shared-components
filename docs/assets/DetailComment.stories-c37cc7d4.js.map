{"version":3,"file":"DetailComment.stories-c37cc7d4.js","sources":["../../src/components/detail-comment/DetailComment.vue"],"sourcesContent":["<template>\r\n  <v-card\r\n    id=\"detail-comment-container\"\r\n    flat\r\n  >\r\n    <v-textarea\r\n      id=\"detail-comment-textarea\"\r\n      ref=\"textarea\"\r\n      :outlined=\"isStyle('outlined')\"\r\n      :filled=\"isStyle('filled')\"\r\n      auto-grow\r\n      :rows=\"rowCount\"\r\n      :counter=\"maxLength\"\r\n      :rules=\"rules\"\r\n      :value=\"value\"\r\n      :placeholder=\"placeholder\"\r\n      :autofocus=\"autofocus\"\r\n      @input=\"emitInput($event)\"\r\n    />\r\n  </v-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from 'vue'\r\nimport { Component, Prop, Watch, Emit } from 'vue-property-decorator'\r\nimport { debounce } from 'lodash'\r\n\r\n@Component({})\r\nexport default class DetailComment extends Vue {\r\n  /** Array of validations rules for the textarea. */\r\n  get rules (): Array<(v) => boolean | string> {\r\n    // exclude whitespace in minimum length check\r\n    // include whitespace in maximum length check\r\n    return [\r\n      val => (val && val.trim().length > 0) || 'Detail is required.',\r\n      val => (val && val.length <= this.maxLength) || 'Maximum characters exceeded.'\r\n    ]\r\n  }\r\n\r\n  /** Public method to reset Vuetify validation on textarea. */\r\n  public resetValidation (): void {\r\n    (this.$refs.textarea as any).resetValidation()\r\n  }\r\n\r\n  /** Comment (v-model) passed into this component (required). */\r\n  @Prop({ default: '' }) readonly value!: string\r\n\r\n  /** Placeholder passed into this component (optional). */\r\n  @Prop({ default: '' }) readonly placeholder!: string\r\n\r\n  /** Max Length passed into this component (optional). */\r\n  @Prop({ default: 4096 }) readonly maxLength!: number\r\n\r\n  /** Autofocus passed into this component (optional). */\r\n  @Prop({ default: false }) readonly autofocus!: boolean\r\n\r\n  @Prop({ default: 5 }) readonly rowCount!: number\r\n\r\n  @Prop({ default: 'outlined' }) readonly textAreaStyle!: string\r\n\r\n  /** Called when component is created. */\r\n  created (): void {\r\n    // inform parent of initial validity\r\n    this.emitValid(this.value)\r\n  }\r\n\r\n  protected isStyle (style: string): boolean {\r\n    return this.textAreaStyle.toLowerCase() === style.toLowerCase()\r\n  }\r\n\r\n  /**\r\n   * Called when prop changes (ie, v-model is updated by parent).\r\n   * This method is debounced to prevent excessive validation.\r\n   */\r\n  @Watch('value')\r\n  private onValueChanged = debounce((val: string) => {\r\n    this.emitValid(val)\r\n  }, 300)\r\n\r\n  /** Emits an event with the changed comment (ie, updated v-model). */\r\n  @Emit('input')\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  protected emitInput (val: string): void {}\r\n\r\n  /** Emits an event indicating whether or not this component is valid. */\r\n  @Emit('valid')\r\n  private emitValid (val: string): boolean {\r\n    // component is valid if every rule is valid\r\n    return this.rules.every(rule => rule(val) === true)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#detail-comment-container {\r\n  line-height: 1.2rem;\r\n  font-size: 0.875rem;\r\n}\r\n</style>\r\n"],"names":["DetailComment","Vue","__publicField","debounce","val","style","rule","__decorateClass","Prop","Watch","Emit","Component"],"mappings":"ylBA4BA,IAAAA,EAAA,cAAAC,CAAA,CAAA,kCAiBAC,EAAA,cAGAA,EAAA,oBAGAA,EAAA,kBAGAA,EAAA,kBAEAA,EAAA,iBAEAA,EAAA,sBAiBAA,EAAA,sBAAAC,EAAAA,SAAAC,GAAA,CACA,KAAA,UAAAA,CAAA,GACA,GAAA,GA/CA,IAAA,OAAA,CAGA,MAAA,IACAA,GAAAA,EAAA,KAAA,EAAA,OAAA,GAAA,sBACAA,GAAAA,GAAAA,EAAA,QAAA,KAAA,WAAA,8BAAA,CAEA,CAGA,iBAAA,CACA,KAAA,MAAA,SAAA,iBACA,CAmBA,SAAA,CAEA,KAAA,UAAA,KAAA,KAAA,CACA,CAEA,QAAAC,EAAA,CACA,OAAA,KAAA,cAAA,YAAA,IAAAA,EAAA,YAAA,CACA,CAcA,UAAAD,EAAA,CAAA,CAIA,UAAAA,EAAA,CAEA,OAAA,KAAA,MAAA,SAAAE,EAAAF,CAAA,IAAA,EAAA,CACA,CACA,EA7CAG,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAjBAR,EAiBA,UAAA,QAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EApBAR,EAoBA,UAAA,cAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAvBAR,EAuBA,UAAA,YAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EA1BAR,EA0BA,UAAA,YAAA,CAAA,EAEAO,EAAA,CAAAC,EAAA,CAAA,QAAA,EAAA,CAAA,EA5BAR,EA4BA,UAAA,WAAA,CAAA,EAEAO,EAAA,CAAAC,EAAA,CAAA,QAAA,WAAA,CAAA,EA9BAR,EA8BA,UAAA,gBAAA,CAAA,EAiBAO,EAAA,CADAE,EAAA,OAAA,CAAA,EA9CAT,EA+CA,UAAA,iBAAA,CAAA,EAOAO,EAAA,CAFAG,EAAA,OAAA,CAAA,EApDAV,EAsDA,UAAA,YAAA,CAAA,EAIAO,EAAA,CADAG,EAAA,OAAA,CAAA,EAzDAV,EA0DA,UAAA,YAAA,CAAA,EA1DAA,EAAAO,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAX,CAAA;;;;;;;;;;;;;;;;"}