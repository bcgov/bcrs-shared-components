var Ze=Object.defineProperty;var Ge=(r,e,t)=>e in r?Ze(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var m=(r,e,t)=>(Ge(r,typeof e!="symbol"?e+"":e,t),t);import{V as S}from"./vue.esm-b1e57a2f.js";import{C as N,m as Ye,P as C,E as x,n as xe}from"./_plugin-vue2_normalizer-b11a0120.js";import{W as P}from"./Watch-62f8b699.js";import{c as ve}from"./_commonjsHelpers-042e6b4d.js";import{r as Je}from"./vue.esm-46afd9d0.js";import{l as Re}from"./lodash-bc5bedbb.js";var y={},V={},c={},I={},D={};Object.defineProperty(D,"__esModule",{value:!0});D.withParams=void 0;function q(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?q=function(t){return typeof t}:q=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(r)}var ge=typeof window<"u"?window:typeof ve<"u"?ve:{},Qe=function(e,t){return q(e)==="object"&&t!==void 0?t:e(function(){})},Xe=ge.vuelidate?ge.vuelidate.withParams:Qe;D.withParams=Xe;Object.defineProperty(I,"__esModule",{value:!0});I.default=void 0;var Ke=D.withParams,ke=Ke;I.default=ke;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.req=r.regex=r.ref=r.len=void 0,Object.defineProperty(r,"withParams",{enumerable:!0,get:function(){return e.default}});var e=t(I);function t(l){return l&&l.__esModule?l:{default:l}}function a(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(g){return typeof g}:a=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a(l)}var s=function(o){if(Array.isArray(o))return!!o.length;if(o==null)return!1;if(o===!1)return!0;if(o instanceof Date)return!isNaN(o.getTime());if(a(o)==="object"){for(var g in o)return!0;return!1}return!!String(o).length};r.req=s;var n=function(o){return Array.isArray(o)?o.length:a(o)==="object"?Object.keys(o).length:String(o).length};r.len=n;var i=function(o,g,w){return typeof o=="function"?o.call(g,w):w[o]};r.ref=i;var u=function(o,g){return(0,e.default)({type:o},function(w){return!s(w)||g.test(w)})};r.regex=u})(c);Object.defineProperty(V,"__esModule",{value:!0});V.default=void 0;var et=c,tt=(0,et.regex)("alpha",/^[a-zA-Z]*$/);V.default=tt;var B={};Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var rt=c,at=(0,rt.regex)("alphaNum",/^[a-zA-Z0-9]*$/);B.default=at;var E={};Object.defineProperty(E,"__esModule",{value:!0});E.default=void 0;var st=c,nt=(0,st.regex)("numeric",/^[0-9]*$/);E.default=nt;var F={};Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var he=c,dt=function(e,t){return(0,he.withParams)({type:"between",min:e,max:t},function(a){return!(0,he.req)(a)||(!/\s/.test(a)||a instanceof Date)&&+e<=+a&&+t>=+a})};F.default=dt;var z={};Object.defineProperty(z,"__esModule",{value:!0});z.default=void 0;var it=c,ot=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,lt=(0,it.regex)("email",ot);z.default=lt;var T={};Object.defineProperty(T,"__esModule",{value:!0});T.default=void 0;var ye=c,ut=(0,ye.withParams)({type:"ipAddress"},function(r){if(!(0,ye.req)(r))return!0;if(typeof r!="string")return!1;var e=r.split(".");return e.length===4&&e.every(ct)});T.default=ut;var ct=function(e){if(e.length>3||e.length===0||e[0]==="0"&&e!=="0"||!e.match(/^\d+$/))return!1;var t=+e|0;return t>=0&&t<=255},W={};Object.defineProperty(W,"__esModule",{value:!0});W.default=void 0;var _e=c,ft=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:":";return(0,_e.withParams)({type:"macAddress"},function(t){if(!(0,_e.req)(t))return!0;if(typeof t!="string")return!1;var a=typeof e=="string"&&e!==""?t.split(e):t.length===12||t.length===16?t.match(/.{2}/g):null;return a!==null&&(a.length===6||a.length===8)&&a.every(mt)})};W.default=ft;var mt=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)},U={};Object.defineProperty(U,"__esModule",{value:!0});U.default=void 0;var de=c,pt=function(e){return(0,de.withParams)({type:"maxLength",max:e},function(t){return!(0,de.req)(t)||(0,de.len)(t)<=e})};U.default=pt;var H={};Object.defineProperty(H,"__esModule",{value:!0});H.default=void 0;var ie=c,vt=function(e){return(0,ie.withParams)({type:"minLength",min:e},function(t){return!(0,ie.req)(t)||(0,ie.len)(t)>=e})};H.default=vt;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.default=void 0;var oe=c,gt=(0,oe.withParams)({type:"required"},function(r){return typeof r=="string"?(0,oe.req)(r.trim()):(0,oe.req)(r)});Z.default=gt;var G={};Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var le=c,ht=function(e){return(0,le.withParams)({type:"requiredIf",prop:e},function(t,a){return(0,le.ref)(e,this,a)?(0,le.req)(t):!0})};G.default=ht;var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.default=void 0;var ue=c,yt=function(e){return(0,ue.withParams)({type:"requiredUnless",prop:e},function(t,a){return(0,ue.ref)(e,this,a)?!0:(0,ue.req)(t)})};Y.default=yt;var J={};Object.defineProperty(J,"__esModule",{value:!0});J.default=void 0;var be=c,_t=function(e){return(0,be.withParams)({type:"sameAs",eq:e},function(t,a){return t===(0,be.ref)(e,this,a)})};J.default=_t;var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.default=void 0;var bt=c,Ct=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,Pt=(0,bt.regex)("url",Ct);Q.default=Pt;var X={};Object.defineProperty(X,"__esModule",{value:!0});X.default=void 0;var wt=c,At=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,wt.withParams)({type:"or"},function(){for(var s=this,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return t.length>0&&t.reduce(function(l,o){return l||o.apply(s,i)},!1)})};X.default=At;var K={};Object.defineProperty(K,"__esModule",{value:!0});K.default=void 0;var $t=c,Ot=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,$t.withParams)({type:"and"},function(){for(var s=this,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return t.length>0&&t.reduce(function(l,o){return l&&o.apply(s,i)},!0)})};K.default=Ot;var k={};Object.defineProperty(k,"__esModule",{value:!0});k.default=void 0;var Ce=c,Lt=function(e){return(0,Ce.withParams)({type:"not"},function(t,a){return!(0,Ce.req)(t)||!e.call(this,t,a)})};k.default=Lt;var ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.default=void 0;var Pe=c,xt=function(e){return(0,Pe.withParams)({type:"minValue",min:e},function(t){return!(0,Pe.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e})};ee.default=xt;var te={};Object.defineProperty(te,"__esModule",{value:!0});te.default=void 0;var we=c,Rt=function(e){return(0,we.withParams)({type:"maxValue",max:e},function(t){return!(0,we.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e})};te.default=Rt;var re={};Object.defineProperty(re,"__esModule",{value:!0});re.default=void 0;var qt=c,jt=(0,qt.regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);re.default=jt;var ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.default=void 0;var Mt=c,St=(0,Mt.regex)("decimal",/^[-]?\d*(\.\d+)?$/);ae.default=St;(function(r){function e(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(p){return typeof p}:e=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(d)}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"alpha",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"alphaNum",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"and",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(r,"between",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"decimal",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(r,"email",{enumerable:!0,get:function(){return i.default}}),r.helpers=void 0,Object.defineProperty(r,"integer",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(r,"ipAddress",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"macAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"maxLength",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"maxValue",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(r,"minLength",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(r,"minValue",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(r,"not",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(r,"numeric",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"or",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(r,"required",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(r,"requiredIf",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(r,"requiredUnless",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(r,"sameAs",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(r,"url",{enumerable:!0,get:function(){return Ie.default}});var t=f(V),a=f(B),s=f(E),n=f(F),i=f(z),u=f(T),l=f(W),o=f(U),g=f(H),w=f(Z),Se=f(G),Ne=f(Y),Ve=f(J),Ie=f(Q),De=f(X),Be=f(K),Ee=f(k),Fe=f(ee),ze=f(te),Te=f(re),We=f(ae),Ue=He(c);r.helpers=Ue;function pe(d){if(typeof WeakMap!="function")return null;var A=new WeakMap,p=new WeakMap;return(pe=function(ne){return ne?p:A})(d)}function He(d,A){if(!A&&d&&d.__esModule)return d;if(d===null||e(d)!=="object"&&typeof d!="function")return{default:d};var p=pe(A);if(p&&p.has(d))return p.get(d);var $={},ne=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in d)if(O!=="default"&&Object.prototype.hasOwnProperty.call(d,O)){var R=ne?Object.getOwnPropertyDescriptor(d,O):null;R&&(R.get||R.set)?Object.defineProperty($,O,R):$[O]=d[O]}return $.default=d,p&&p.set(d,$),$}function f(d){return d&&d.__esModule?d:{default:d}}})(y);var se={};/**
  * vue-class-component v6.3.2
  * (c) 2015-present Evan You
  * @license MIT
  */Object.defineProperty(se,"__esModule",{value:!0});function Nt(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var fe=Nt(Je),Vt=typeof Reflect<"u"&&Reflect.defineMetadata;function It(r,e){ce(r,e),Object.getOwnPropertyNames(e.prototype).forEach(function(t){ce(r.prototype,e.prototype,t)}),Object.getOwnPropertyNames(e).forEach(function(t){ce(r,e,t)})}function ce(r,e,t){var a=t?Reflect.getOwnMetadataKeys(e,t):Reflect.getOwnMetadataKeys(e);a.forEach(function(s){var n=t?Reflect.getOwnMetadata(s,e,t):Reflect.getOwnMetadata(s,e);t?Reflect.defineMetadata(s,n,r,t):Reflect.defineMetadata(s,n,r)})}var Dt={__proto__:[]},Bt=Dt instanceof Array;function Et(r){return function(e,t,a){var s=typeof e=="function"?e:e.constructor;s.__decorators__||(s.__decorators__=[]),typeof a!="number"&&(a=void 0),s.__decorators__.push(function(n){return r(n,t,a)})}}function Ft(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return fe.extend({mixins:r})}function zt(r){var e=typeof r;return r==null||e!=="object"&&e!=="function"}function Tt(r,e){var t=e.prototype._init;e.prototype._init=function(){var n=this,i=Object.getOwnPropertyNames(r);if(r.$options.props)for(var u in r.$options.props)r.hasOwnProperty(u)||i.push(u);i.forEach(function(l){l.charAt(0)!=="_"&&Object.defineProperty(n,l,{get:function(){return r[l]},set:function(o){r[l]=o},configurable:!0})})};var a=new e;e.prototype._init=t;var s={};return Object.keys(a).forEach(function(n){a[n]!==void 0&&(s[n]=a[n])}),s}var me=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured"];function Ae(r,e){e===void 0&&(e={}),e.name=e.name||r._componentTag||r.name;var t=r.prototype;Object.getOwnPropertyNames(t).forEach(function(u){if(u!=="constructor"){if(me.indexOf(u)>-1){e[u]=t[u];return}var l=Object.getOwnPropertyDescriptor(t,u);l.value!==void 0?typeof l.value=="function"?(e.methods||(e.methods={}))[u]=l.value:(e.mixins||(e.mixins=[])).push({data:function(){var o;return o={},o[u]=l.value,o}}):(l.get||l.set)&&((e.computed||(e.computed={}))[u]={get:l.get,set:l.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return Tt(this,r)}});var a=r.__decorators__;a&&(a.forEach(function(u){return u(e)}),delete r.__decorators__);var s=Object.getPrototypeOf(r.prototype),n=s instanceof fe?s.constructor:fe,i=n.extend(e);return Wt(i,r,n),Vt&&It(i,r),i}function Wt(r,e,t){Object.getOwnPropertyNames(e).forEach(function(a){if(a!=="prototype"){var s=Object.getOwnPropertyDescriptor(r,a);if(!(s&&!s.configurable)){var n=Object.getOwnPropertyDescriptor(e,a);if(!Bt){if(a==="cid")return;var i=Object.getOwnPropertyDescriptor(t,a);if(!zt(n.value)&&i&&i.value===n.value)return}Object.defineProperty(r,a,n)}}})}function qe(r){return typeof r=="function"?Ae(r):function(e){return Ae(e,r)}}qe.registerHooks=function(e){me.push.apply(me,e)};se.default=qe;var Ut=se.createDecorator=Et;se.mixins=Ft;function Ht(){return Ut(function(r,e){const t=r;t.validations=t.methods[e]})}var Zt=Object.defineProperty,Gt=Object.getOwnPropertyDescriptor,Yt=(r,e,t,a)=>{for(var s=a>1?void 0:a?Gt(e,t):e,n=r.length-1,i;n>=0;n--)(i=r[n])&&(s=(a?i(e,t,s):i(s))||s);return a&&s&&Zt(e,t,s),s};let j=class extends S{createVuetifyRulesObject(r){let e={streetAddress:[],streetAddressAdditional:[],addressCity:[],addressRegion:[],postalCode:[],addressCountry:[],deliveryInstructions:[]};return this.$v&&this.$v[r]&&Object.keys(this.$v[r]).filter(t=>t.charAt(0)!=="$").forEach(t=>{e[t]=[],Object.keys(this.$v[r][t].$params).forEach(a=>{switch(a){case"required":e[t].push(()=>this.requiredRule(r,t));break;case"minLength":e[t].push(()=>this.minLengthRule(r,t));break;case"maxLength":e[t].push(()=>this.maxLengthRule(r,t));break;case"isCanada":e[t].push(()=>this.isCanadaRule(r,t));break;case"isBC":e[t].push(()=>this.isBCRule(r,t));break}})}),e}requiredRule(r,e){return!!(this.$v[r]&&this.$v[r][e].required)||"This field is required"}minLengthRule(r,e){const t=this.$v[r][e].$params.minLength.min;return!!(this.$v[r]&&this.$v[r][e].minLength)||`Minimum length is ${t}`}maxLengthRule(r,e){const t=this.$v[r][e].$params.maxLength.max;return!!(this.$v[r]&&this.$v[r][e].maxLength)||`Maximum length is ${t}`}isCanadaRule(r,e){return!!(this.$v[r]&&this.$v[r][e].isCanada)||"Address must be in Canada"}isBCRule(r,e){return!!(this.$v[r]&&this.$v[r][e].isBC)||"Address must be in BC"}};j=Yt([N({})],j);var Jt=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,Xt=(r,e,t,a)=>{for(var s=a>1?void 0:a?Qt(e,t):e,n=r.length-1,i;n>=0;n--)(i=r[n])&&(s=(a?i(e,t,s):i(s))||s);return a&&s&&Jt(e,t,s),s};window.countries=window.countries||require("country-list/data.json").sort((r,e)=>r.name<e.name?-1:r.name>e.name?1:0);window.provinces=window.provinces||require("provinces/provinces.json").sort((r,e)=>r.name<e.name?-1:r.name>e.name?1:0);window.countryNameCache={};window.countryRegionsCache={};let M=class extends S{getCountries(){return window.countries}getCountryName(r){if(!r)return null;if(window.countryNameCache[r])return window.countryNameCache[r];const e=window.countries.find(a=>a.code===r),t=e?e.name:null;return window.countryNameCache[r]=t,t}getCountryRegions(r){if(!r)return null;if(window.countryRegionsCache[r])return window.countryRegionsCache[r];const e=window.provinces.filter(t=>t.country===r).map(t=>({name:t.english||t.name,short:t.short&&t.short.length<=2?t.short:"--"}));return window.countryRegionsCache[r]=e,e}};M=Xt([N({})],M);var Kt=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,_=(r,e,t,a)=>{for(var s=a>1?void 0:a?kt(e,t):e,n=r.length-1,i;n>=0;n--)(i=r[n])&&(s=(a?i(e,t,s):i(s))||s);return a&&s&&Kt(e,t,s),s};let v=class extends Ye(j,M){constructor(){super(...arguments);m(this,"address");m(this,"editing");m(this,"schema");m(this,"noPoBox");m(this,"addressLocal",{});m(this,"schemaLocal",{});m(this,"uniqueId",Re.uniqueId());m(this,"spaceRules",[t=>!/^\s/g.test(t)||"Invalid spaces",t=>!/\s$/g.test(t)||"Invalid spaces",t=>!/\s\s/g.test(t)||"Invalid word spacing"])}validations(){return{addressLocal:{...this.schemaLocal}}}resetRegion(){this.addressLocal.addressRegion=""}get streetAddressId(){return`street-address-${this.uniqueId}`}addressCountryId(){return`address-country-${this.uniqueId}`}get addressCountry(){return this.addressLocal.addressCountry}get streetAddressAdditionalLabel(){return"Additional Street Address"+(this.isSchemaRequired("streetAddressAdditional")?"":" (Optional)")}get streetAddressLabel(){return"Street Address"+(this.isSchemaRequired("streetAddress")?"":" (Optional)")}get addressCityLabel(){return"City"+(this.isSchemaRequired("addressCity")?"":" (Optional)")}get addressRegionLabel(){let t,a=this.isSchemaRequired("addressRegion");return this.addressLocal.addressCountry==="CA"?(t="Province",a=!0):this.addressLocal.addressCountry==="US"?(t="State",a=!0):t="Province/State",t+(a?"":" (Optional)")}get postalCodeLabel(){let t;return this.addressLocal.addressCountry==="US"?t="Zip Code":t="Postal Code",t+(this.isSchemaRequired("postalCode")?"":" (Optional)")}get addressCountryLabel(){return"Country"+(this.isSchemaRequired("addressCountry")?"":" (Optional)")}get deliveryInstructionsLabel(){return"Delivery Instructions"+(this.isSchemaRequired("deliveryInstructions")?"":" (Optional)")}get streetAddressHint(){return this.noPoBox?"Address cannot be a PO Box":""}isSchemaRequired(t){return!!(this.schemaLocal&&this.schemaLocal[t]&&this.schemaLocal[t].required)}get rules(){return this.createVuetifyRulesObject("addressLocal")}emitAddress(t){}emitValid(t){}onSchemaChanged(){this.schemaLocal={...this.schema}}onAddressChanged(){this.addressLocal={...this.address}}onAddressCountryChanged(){if(this.schema)if(this.useCountryRegions(this.addressLocal.addressCountry)){const t={...this.schema.addressRegion,required:y.required};this.schemaLocal={...this.schema,addressRegion:t}}else{const{required:t,...a}=this.schema.addressRegion;this.schemaLocal={...this.schema,addressRegion:a}}}onAddressLocalChanged(){this.emitAddress(this.addressLocal),this.emitValid(!this.$v.$invalid)}useCountryRegions(t){return t==="CA"||t==="US"}enableAddressComplete(){const t=window.pca,a=window.addressCompleteKey;if(!t||!a){console.log("AddressComplete not initialized due to missing script and/or key");return}window.currentAddressComplete&&window.currentAddressComplete.destroy(),window.currentAddressComplete=this.createAddressComplete(t,a)}createAddressComplete(t,a){const s=[{element:this.streetAddressId,field:"Line1",mode:t.fieldMode.SEARCH},{element:this.addressCountryId,field:"CountryName",mode:t.fieldMode.COUNTRY}],n={key:a},i=new t.Address(s,n);return i.listen("populate",this.addressCompletePopulate),i}addressCompletePopulate(t){const a={};a.streetAddress=t.Line1||"N/A",a.streetAddressAdditional=this.combineLines(this.combineLines(t.Line2,t.Line3),this.combineLines(t.Line4,t.Line5)),a.addressCity=t.City,this.useCountryRegions(t.CountryIso2)?a.addressRegion=t.ProvinceCode:(a.addressRegion=null,a.streetAddressAdditional=this.combineLines(a.streetAddressAdditional,t.ProvinceName)),a.postalCode=t.PostalCode,a.addressCountry=t.CountryIso2,this.addressLocal=a,S.nextTick(()=>{this.$refs.addressForm.validate()})}combineLines(t,a){return t?a?t+`
`+a:t:a}};_([Ht()],v.prototype,"validations",1);_([C({default:()=>({streetAddress:"",streetAddressAdditional:"",addressCity:"",addressRegion:"",postalCode:"",addressCountry:"",deliveryInstructions:""})})],v.prototype,"address",2);_([C({default:!1})],v.prototype,"editing",2);_([C({default:null})],v.prototype,"schema",2);_([C({default:!1})],v.prototype,"noPoBox",2);_([x("update:address")],v.prototype,"emitAddress",1);_([x("valid")],v.prototype,"emitValid",1);_([P("schema",{deep:!0,immediate:!0})],v.prototype,"onSchemaChanged",1);_([P("address",{deep:!0,immediate:!0})],v.prototype,"onAddressChanged",1);_([P("addressCountry")],v.prototype,"onAddressCountryChanged",1);_([P("addressLocal",{deep:!0,immediate:!0})],v.prototype,"onAddressLocalChanged",1);v=_([N({mixins:[j,M]})],v);var er=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"base-address"},[t("v-expand-transition",[e.editing?e._e():t("div",{staticClass:"address-block"},[t("div",{staticClass:"address-block__info pre-line"},[t("div",{staticClass:"address-block__info-row street-address"},[e._v(" "+e._s(e.addressLocal.streetAddress)+" ")]),t("div",{staticClass:"address-block__info-row street-address-additional"},[e._v(" "+e._s(e.addressLocal.streetAddressAdditional)+" ")]),t("div",{staticClass:"address-block__info-row"},[t("span",{staticClass:"address-city"},[e._v(e._s(e.addressLocal.addressCity))]),e.addressLocal.addressRegion?[t("span",{staticClass:"address-region"},[e._v(" "+e._s(e.addressLocal.addressRegion))])]:e._e(),e.addressLocal.postalCode?[t("span",{staticClass:"postal-code"},[e._v(" "+e._s(e.addressLocal.postalCode))])]:e._e()],2),t("div",{staticClass:"address-block__info-row address-country"},[e._v(" "+e._s(e.getCountryName(e.addressCountry))+" ")]),e.addressLocal.deliveryInstructions?[t("div",{staticClass:"address-block__info-row delivery-instructions mt-5 font-italic"},[e._v(" "+e._s(e.addressLocal.deliveryInstructions)+" ")])]:e._e()],2)])]),t("v-expand-transition",[e.editing?t("v-form",{ref:"addressForm",attrs:{name:"address-form","lazy-validation":""}},[t("div",{staticClass:"form__row"},[t("v-text-field",{staticClass:"street-address",attrs:{autocomplete:"chrome-off",name:Math.random(),filled:"",hint:e.streetAddressHint,"persistent-hint":"",id:e.streetAddressId,label:e.streetAddressLabel,rules:[...e.rules.streetAddress,...e.spaceRules]},on:{"~keypress":function(a){return e.enableAddressComplete()},click:function(a){return e.enableAddressComplete()}},model:{value:e.addressLocal.streetAddress,callback:function(a){e.$set(e.addressLocal,"streetAddress",a)},expression:"addressLocal.streetAddress"}})],1),t("div",{staticClass:"form__row"},[t("v-textarea",{staticClass:"street-address-additional",attrs:{"auto-grow":"",filled:"",label:e.streetAddressAdditionalLabel,rows:"1",rules:[...e.rules.streetAddressAdditional,...e.spaceRules]},model:{value:e.addressLocal.streetAddressAdditional,callback:function(a){e.$set(e.addressLocal,"streetAddressAdditional",a)},expression:"addressLocal.streetAddressAdditional"}})],1),t("div",{staticClass:"form__row three-column"},[t("v-text-field",{staticClass:"item address-city",attrs:{filled:"",label:e.addressCityLabel,rules:[...e.rules.addressCity,...e.spaceRules]},model:{value:e.addressLocal.addressCity,callback:function(a){e.$set(e.addressLocal,"addressCity",a)},expression:"addressLocal.addressCity"}}),e.useCountryRegions(e.addressCountry)?t("v-select",{staticClass:"item address-region",attrs:{filled:"","menu-props":{maxHeight:"40rem"},label:e.addressRegionLabel,"item-text":"name","item-value":"short",items:e.getCountryRegions(e.addressCountry),rules:[...e.rules.addressRegion,...e.spaceRules]},model:{value:e.addressLocal.addressRegion,callback:function(a){e.$set(e.addressLocal,"addressRegion",a)},expression:"addressLocal.addressRegion"}}):t("v-text-field",{staticClass:"item address-region",attrs:{filled:"",label:e.addressRegionLabel,rules:[...e.rules.addressRegion,...e.spaceRules]},model:{value:e.addressLocal.addressRegion,callback:function(a){e.$set(e.addressLocal,"addressRegion",a)},expression:"addressLocal.addressRegion"}}),t("v-text-field",{staticClass:"item postal-code",attrs:{filled:"",label:e.postalCodeLabel,rules:[...e.rules.postalCode,...e.spaceRules]},model:{value:e.addressLocal.postalCode,callback:function(a){e.$set(e.addressLocal,"postalCode",a)},expression:"addressLocal.postalCode"}})],1),t("div",{staticClass:"form__row"},[t("v-select",{staticClass:"address-country",attrs:{filled:"",label:e.addressCountryLabel,"menu-props":"auto","item-text":"name","item-value":"code",items:e.getCountries(),rules:[...e.rules.addressCountry,...e.spaceRules]},on:{change:function(a){return e.resetRegion()}},model:{value:e.addressLocal.addressCountry,callback:function(a){e.$set(e.addressLocal,"addressCountry",a)},expression:"addressLocal.addressCountry"}}),t("input",{attrs:{type:"hidden",id:e.addressCountryId},domProps:{value:e.addressCountry}})],1),t("div",{staticClass:"form__row"},[t("v-textarea",{staticClass:"delivery-instructions",attrs:{"auto-grow":"",filled:"",label:e.deliveryInstructionsLabel,rows:"2",rules:[...e.rules.deliveryInstructions,...e.spaceRules]},model:{value:e.addressLocal.deliveryInstructions,callback:function(a){e.$set(e.addressLocal,"deliveryInstructions",a)},expression:"addressLocal.deliveryInstructions"}})],1)]):e._e()],1)],1)},tr=[],je=xe(v,er,tr,!1,null,"76cbb181",null,null);const rr=je.exports;je.exports.__docgenInfo={description:`The component for displaying and editing an address.
Vuelidate is used to implement the validation rules (eg, what 'required' means and whether it's satisfied).
Vuetify is used to display any validation errors/styling.
Optionally uses Canada Post AddressComplete (aka Postal Code Anywhere - PCA) for address lookup.`,tags:{},exportName:"default",displayName:"BaseAddress",props:[{name:"address",tags:{},description:`The address to be displayed/edited.
Default is "empty address" in case parent doesn't provide it (eg, for new address).`,type:{name:"object"},defaultValue:{func:!0,value:`() => ({
  streetAddress: '',
  streetAddressAdditional: '',
  addressCity: '',
  addressRegion: '',
  postalCode: '',
  addressCountry: '',
  deliveryInstructions: ''
})`}},{name:"editing",tags:{},description:"Whether the address should be shown in editing mode (true) or display mode (false).",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"schema",tags:{},description:"The address schema containing Vuelidate rules.",type:{name:"any"},defaultValue:{func:!1,value:"null"}},{name:"noPoBox",tags:{},type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update:address",description:'Emits an update message for the address prop, so that the caller can ".sync" with it.'},{name:"valid",description:"Emits the validity of the address entered by the user."}],sourceFiles:["/home/severin/repos/bcrs-shared-components/node_modules/sbc-common-components/src/components/BaseAddress.vue"]};var ar=Object.defineProperty,sr=Object.getOwnPropertyDescriptor,b=(r,e,t,a)=>{for(var s=a>1?void 0:a?sr(e,t):e,n=r.length-1,i;n>=0;n--)(i=r[n])&&(s=(a?i(e,t,s):i(s))||s);return a&&s&&ar(e,t,s),s};let h=class extends S{constructor(){super(...arguments);m(this,"$refs");m(this,"completingParty");m(this,"enableAddEdit");m(this,"addressSchema");m(this,"validate");m(this,"invalidSection");m(this,"completingPartyFormValid",!1);m(this,"mailingAddressValid",!1);m(this,"newCompletingParty",null);m(this,"firstNameRules",[t=>!!t||"A first name is required",t=>!/^\s/g.test(t)||"Invalid spaces",t=>!/\s$/g.test(t)||"Invalid spaces",t=>(t==null?void 0:t.length)<=20||"Cannot exceed 20 characters"]);m(this,"middleNameRules",[t=>!/^\s/g.test(t)||"Invalid spaces",t=>!/\s$/g.test(t)||"Invalid spaces",t=>!t||t.length<=20||"Cannot exceed 20 characters"]);m(this,"lastNameRules",[t=>!!t||"A last name is required",t=>!/^\s/g.test(t)||"Invalid spaces",t=>!/\s$/g.test(t)||"Invalid spaces",t=>(t==null?void 0:t.length)<=30||"Cannot exceed 30 characters"])}get completingPartyName(){return`
      ${this.completingParty.firstName}
      ${this.completingParty.middleName||""}
      ${this.completingParty.lastName}
    `||"Unknown"}onMailingAddressUpdate(t){Re.isEqual(this.newCompletingParty.mailingAddress,t)||(this.newCompletingParty.mailingAddress=t)}onValidate(){this.$refs.completingPartyForm&&this.$refs.completingPartyForm.validate(),this.$refs.mailingAddress&&this.$refs.mailingAddress.$refs.addressForm.validate()}onCompletingParty(){this.newCompletingParty=this.completingParty}onCompletingPartyFormValid(){return this.completingPartyFormValid&&this.mailingAddressValid}onMailingAddressValid(){return this.completingPartyFormValid&&this.mailingAddressValid}onNewCompletingParty(){return this.newCompletingParty}};b([C({default:()=>{}})],h.prototype,"completingParty",2);b([C({default:!1})],h.prototype,"enableAddEdit",2);b([C({default:()=>{}})],h.prototype,"addressSchema",2);b([C({default:!1})],h.prototype,"validate",2);b([C({default:!1})],h.prototype,"invalidSection",2);b([P("validate")],h.prototype,"onValidate",1);b([P("completingParty",{immediate:!0})],h.prototype,"onCompletingParty",1);b([P("completingPartyFormValid"),x("valid")],h.prototype,"onCompletingPartyFormValid",1);b([P("mailingAddressValid"),x("valid")],h.prototype,"onMailingAddressValid",1);b([P("newCompletingParty",{deep:!0}),x("update")],h.prototype,"onNewCompletingParty",1);h=b([N({components:{BaseAddress:rr}})],h);var nr=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("v-card",{attrs:{id:"completing-party",flat:""}},[e.enableAddEdit?[t("v-row",{attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12",sm:"3"}},[t("label",{staticClass:"add-person-header"},[t("span",{class:{"error-text":e.invalidSection}},[e._v("Add Person")])])]),t("v-col",[t("v-form",{ref:"completingPartyForm",on:{submit:function(a){a.preventDefault()}},model:{value:e.completingPartyFormValid,callback:function(a){e.completingPartyFormValid=a},expression:"completingPartyFormValid"}},[t("label",{staticClass:"sub-header"},[e._v("Person's Name")]),t("v-row",{staticClass:"pt-6",attrs:{"no-gutters":""}},[t("v-col",[t("v-text-field",{staticClass:"item",attrs:{id:"person__first-name",filled:"",label:"First Name",rules:e.firstNameRules,value:e.completingParty.firstName},on:{change:function(a){e.newCompletingParty.firstName=a}}})],1),t("v-col",{staticClass:"px-4"},[t("v-text-field",{staticClass:"item",attrs:{id:"person__middle-name",filled:"",label:"Middle Name",rules:e.middleNameRules,value:e.completingParty.middleName},on:{change:function(a){e.newCompletingParty.middleName=a}}})],1),t("v-col",[t("v-text-field",{staticClass:"item",attrs:{id:"person__last-name",filled:"",label:"Last Name",rules:e.lastNameRules,value:e.completingParty.lastName},on:{change:function(a){e.newCompletingParty.lastName=a}}})],1)],1),t("label",{staticClass:"sub-header mt-2"},[e._v("Mailing Address")]),t("div",{staticClass:"address-wrapper pt-6 mb-n2"},[t("BaseAddress",{ref:"mailingAddress",attrs:{editing:!0,schema:e.addressSchema,address:e.completingParty.mailingAddress},on:{"update:address":function(a){return e.onMailingAddressUpdate(a)},valid:function(a){e.mailingAddressValid=a}}})],1)],1)],1)],1)]:[t("v-row",{staticClass:"list-header pb-3",attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12",sm:"3"}},[e._v(" Name ")]),t("v-col",{attrs:{cols:"12",sm:"3"}},[e._v(" Mailing Address ")])],1),t("v-row",{staticClass:"list-content pt-3",attrs:{"no-gutters":""}},[t("v-col",{staticClass:"pr-2",attrs:{cols:"12",sm:"3"}},[t("v-row",{attrs:{"no-gutters":""}},[t("v-col",{staticClass:"mt-n1 ml-n1 mr-3",attrs:{cols:"1"}},[t("v-icon",{attrs:{color:"gray9"}},[e._v(" mdi-account ")])],1),t("v-col",[t("p",{staticClass:"list-subtitle ma-0 mb-1"},[e._v(" "+e._s(e.completingPartyName)+" ")])])],1)],1),t("v-col",{attrs:{cols:"12",sm:"8"}},[t("BaseAddress",{staticClass:"peoples-roles-mailing-address",attrs:{address:e.completingParty.mailingAddress}})],1)],1)]],2)},dr=[],Me=xe(h,nr,dr,!1,null,"d34818d6",null,null);const ir=Me.exports;Me.exports.__docgenInfo={exportName:"default",displayName:"CompletingParty",description:"",tags:{},props:[{name:"completingParty",tags:{},description:"The current completing party.",type:{name:"CompletingPartyIF"},defaultValue:{func:!0,value:"() => {}"}},{name:"enableAddEdit",tags:{},description:"Enable Add / Edit mode.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"addressSchema",tags:{},type:{name:"any"},defaultValue:{func:!0,value:"() => {}"}},{name:"validate",tags:{},description:"Whether to perform validation.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"invalidSection",tags:{},description:"Whether to show validation styling.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/severin/repos/bcrs-shared-components/src/components/completing-party/CompletingParty.vue"]};const _r={title:"component/CompletingParty"},or={streetAddress:{required:y.required,maxLength:y.maxLength(50)},streetAddressAdditional:{maxLength:y.maxLength(50)},addressCity:{required:y.required,maxLength:y.maxLength(40)},addressCountry:{required:y.required},addressRegion:{maxLength:y.maxLength(2)},postalCode:{required:y.required,maxLength:y.maxLength(15)},deliveryInstructions:{maxLength:y.maxLength(80)}},lr=(r,{argTypes:e})=>({props:Object.keys(e),components:{CompletingParty:ir},template:'<v-card flat><completing-party v-bind="$props" /></v-card>'}),L=lr.bind({});L.args={completingParty:{firstName:"Cameron",middleName:"D",lastName:"Bowler",mailingAddress:{addressCity:"Victoria",addressCountry:"Canada",addressRegion:"BC",deliveryInstructions:"Test test test",postalCode:"V8V 1s8",streetAddress:"1234",streetAddressAdditional:"Test Street Additional"}},enableAddEdit:!1,addressSchema:or,validate:!1,invalidSection:!1};var $e,Oe,Le;L.parameters={...L.parameters,docs:{...($e=L.parameters)==null?void 0:$e.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    CompletingParty
  },
  template: '<v-card flat><completing-party v-bind="$props" /></v-card>'
})`,...(Le=(Oe=L.parameters)==null?void 0:Oe.docs)==null?void 0:Le.source}}};const br=["Default"];export{L as Default,br as __namedExportsOrder,_r as default};
//# sourceMappingURL=CompletingParty.stories-0aa127f5.js.map
