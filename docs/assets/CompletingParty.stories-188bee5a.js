var oe=Object.defineProperty;var de=(r,e,t)=>e in r?oe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var u=(r,e,t)=>(de(r,typeof e!="symbol"?e+"":e,t),t);import{V as ue}from"./vue.esm-b1e57a2f.js";import{E as $,C as me,P as y,n as fe}from"./_plugin-vue2_normalizer-b11a0120.js";import{W as _}from"./Watch-62f8b699.js";import{B as ce}from"./BaseAddress-1f5ccaf4.js";import{l as pe}from"./lodash-bc5bedbb.js";import"./validation-mixin-aac6b4a2.js";import"./_commonjsHelpers-042e6b4d.js";var ge=Object.defineProperty,ve=Object.getOwnPropertyDescriptor,c=(r,e,t,a)=>{for(var i=a>1?void 0:a?ve(e,t):e,o=r.length-1,d;o>=0;o--)(d=r[o])&&(i=(a?d(e,t,i):d(i))||i);return a&&i&&ge(e,t,i),i};let m=class extends ue{constructor(){super(...arguments);u(this,"$refs");u(this,"completingParty");u(this,"enableAddEdit");u(this,"addressSchema");u(this,"validate");u(this,"invalidSection");u(this,"completingPartyFormValid",!1);u(this,"mailingAddressValid",!1);u(this,"newCompletingParty",null);u(this,"firstNameRules",[t=>!!t||"A first name is required",t=>!/^\s/g.test(t)||"Invalid spaces",t=>!/\s$/g.test(t)||"Invalid spaces",t=>(t==null?void 0:t.length)<=20||"Cannot exceed 20 characters"]);u(this,"middleNameRules",[t=>!/^\s/g.test(t)||"Invalid spaces",t=>!/\s$/g.test(t)||"Invalid spaces",t=>!t||t.length<=20||"Cannot exceed 20 characters"]);u(this,"lastNameRules",[t=>!!t||"A last name is required",t=>!/^\s/g.test(t)||"Invalid spaces",t=>!/\s$/g.test(t)||"Invalid spaces",t=>(t==null?void 0:t.length)<=30||"Cannot exceed 30 characters"])}get completingPartyName(){return`
      ${this.completingParty.firstName}
      ${this.completingParty.middleName||""}
      ${this.completingParty.lastName}
    `||"Unknown"}onMailingAddressUpdate(t){pe.isEqual(this.newCompletingParty.mailingAddress,t)||(this.newCompletingParty.mailingAddress=t)}onValidate(){this.$refs.completingPartyForm&&this.$refs.completingPartyForm.validate(),this.$refs.mailingAddress&&this.$refs.mailingAddress.$refs.addressForm.validate()}onCompletingParty(){this.newCompletingParty=this.completingParty}onCompletingPartyFormValid(){return this.completingPartyFormValid&&this.mailingAddressValid}onMailingAddressValid(){return this.completingPartyFormValid&&this.mailingAddressValid}onNewCompletingParty(){return this.newCompletingParty}};c([y({default:()=>{}})],m.prototype,"completingParty",2);c([y({default:!1})],m.prototype,"enableAddEdit",2);c([y({default:()=>{}})],m.prototype,"addressSchema",2);c([y({default:!1})],m.prototype,"validate",2);c([y({default:!1})],m.prototype,"invalidSection",2);c([_("validate")],m.prototype,"onValidate",1);c([_("completingParty",{immediate:!0})],m.prototype,"onCompletingParty",1);c([_("completingPartyFormValid"),$("valid")],m.prototype,"onCompletingPartyFormValid",1);c([_("mailingAddressValid"),$("valid")],m.prototype,"onMailingAddressValid",1);c([_("newCompletingParty",{deep:!0}),$("update")],m.prototype,"onNewCompletingParty",1);m=c([me({components:{BaseAddress:ce}})],m);var he=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("v-card",{attrs:{id:"completing-party",flat:""}},[e.enableAddEdit?[t("v-row",{attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12",sm:"3"}},[t("label",{staticClass:"add-person-header"},[t("span",{class:{"error-text":e.invalidSection}},[e._v("Add Person")])])]),t("v-col",[t("v-form",{ref:"completingPartyForm",on:{submit:function(a){a.preventDefault()}},model:{value:e.completingPartyFormValid,callback:function(a){e.completingPartyFormValid=a},expression:"completingPartyFormValid"}},[t("label",{staticClass:"sub-header"},[e._v("Person's Name")]),t("v-row",{staticClass:"pt-6",attrs:{"no-gutters":""}},[t("v-col",[t("v-text-field",{staticClass:"item",attrs:{id:"person__first-name",filled:"",label:"First Name",rules:e.firstNameRules,value:e.completingParty.firstName},on:{change:function(a){e.newCompletingParty.firstName=a}}})],1),t("v-col",{staticClass:"px-4"},[t("v-text-field",{staticClass:"item",attrs:{id:"person__middle-name",filled:"",label:"Middle Name",rules:e.middleNameRules,value:e.completingParty.middleName},on:{change:function(a){e.newCompletingParty.middleName=a}}})],1),t("v-col",[t("v-text-field",{staticClass:"item",attrs:{id:"person__last-name",filled:"",label:"Last Name",rules:e.lastNameRules,value:e.completingParty.lastName},on:{change:function(a){e.newCompletingParty.lastName=a}}})],1)],1),t("label",{staticClass:"sub-header mt-2"},[e._v("Mailing Address")]),t("div",{staticClass:"address-wrapper pt-6 mb-n2"},[t("BaseAddress",{ref:"mailingAddress",attrs:{editing:!0,schema:e.addressSchema,address:e.completingParty.mailingAddress},on:{"update:address":function(a){return e.onMailingAddressUpdate(a)},valid:function(a){e.mailingAddressValid=a}}})],1)],1)],1)],1)]:[t("v-row",{staticClass:"list-header pb-3",attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12",sm:"3"}},[e._v(" Name ")]),t("v-col",{attrs:{cols:"12",sm:"3"}},[e._v(" Mailing Address ")])],1),t("v-row",{staticClass:"list-content pt-3",attrs:{"no-gutters":""}},[t("v-col",{staticClass:"pr-2",attrs:{cols:"12",sm:"3"}},[t("v-row",{attrs:{"no-gutters":""}},[t("v-col",{staticClass:"mt-n1 ml-n1 mr-3",attrs:{cols:"1"}},[t("v-icon",{attrs:{color:"gray9"}},[e._v(" mdi-account ")])],1),t("v-col",[t("p",{staticClass:"list-subtitle ma-0 mb-1"},[e._v(" "+e._s(e.completingPartyName)+" ")])])],1)],1),t("v-col",{attrs:{cols:"12",sm:"8"}},[t("BaseAddress",{staticClass:"peoples-roles-mailing-address",attrs:{address:e.completingParty.mailingAddress}})],1)],1)]],2)},ye=[],re=fe(m,he,ye,!1,null,"bc9f752c",null,null);const _e=re.exports;re.exports.__docgenInfo={exportName:"default",displayName:"CompletingParty",description:"",tags:{},props:[{name:"completingParty",tags:{},description:"The current completing party.",type:{name:"CompletingPartyIF"},defaultValue:{func:!0,value:"() => {}"}},{name:"enableAddEdit",tags:{},description:"Enable Add / Edit mode.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"addressSchema",tags:{},type:{name:"any"},defaultValue:{func:!0,value:"() => {}"}},{name:"validate",tags:{},description:"Whether to perform validation.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"invalidSection",tags:{},description:"Whether to show validation styling.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["C:/Users/kjazzar/Downloads/repos/bcrs-shared-components/src/components/completing-party/CompletingParty.vue"]};var n={},V={},s={},q={},f={};Object.defineProperty(f,"__esModule",{value:!0});var Pe=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r};f.pushParams=ne;f.popParams=se;f.withParams=we;var ae=[],p=f.target=null;f._setTarget=function(e){f.target=p=e};function ne(){p!==null&&ae.push(p),f.target=p={}}function se(){var r=p,e=f.target=p=ae.pop()||null;return e&&(Array.isArray(e.$sub)||(e.$sub=[]),e.$sub.push(r)),r}function Ae(r){if(typeof r=="object"&&!Array.isArray(r))f.target=p=Pe({},p,r);else throw new Error("params must be an object")}function be(r,e){return ie(function(t){return function(){t(r);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return e.apply(this,i)}})}function ie(r){var e=r(Ae);return function(){ne();try{for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];return e.apply(this,a)}finally{se()}}}function we(r,e){return typeof r=="object"&&e!==void 0?be(r,e):ie(r)}Object.defineProperty(q,"__esModule",{value:!0});var Ce=f.withParams;q.default=Ce;Object.defineProperty(s,"__esModule",{value:!0});s.regex=s.ref=s.len=s.req=s.withParams=void 0;var xe=q,le=$e(xe);function $e(r){return r&&r.__esModule?r:{default:r}}s.withParams=le.default;var Ve=s.req=function(e){if(Array.isArray(e))return!!e.length;if(e==null||e===!1)return!1;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(var t in e)return!0;return!1}return!!String(e).length};s.len=function(e){return Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length};s.ref=function(e,t,a){return typeof e=="function"?e.call(t,a):a[e]};s.regex=function(e,t){return(0,le.default)({type:e},function(a){return!Ve(a)||t.test(a)})};Object.defineProperty(V,"__esModule",{value:!0});var qe=s;V.default=(0,qe.regex)("alpha",/^[a-zA-Z]*$/);var N={};Object.defineProperty(N,"__esModule",{value:!0});var Ne=s;N.default=(0,Ne.regex)("alphaNum",/^[a-zA-Z0-9]*$/);var M={};Object.defineProperty(M,"__esModule",{value:!0});var Me=s;M.default=(0,Me.regex)("numeric",/^[0-9]*$/);var O={};Object.defineProperty(O,"__esModule",{value:!0});var G=s;O.default=function(r,e){return(0,G.withParams)({type:"between",min:r,max:e},function(t){return!(0,G.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+r<=+t&&+e>=+t})};var j={};Object.defineProperty(j,"__esModule",{value:!0});var Oe=s,je=/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/;j.default=(0,Oe.regex)("email",je);var L={};Object.defineProperty(L,"__esModule",{value:!0});var H=s;L.default=(0,H.withParams)({type:"ipAddress"},function(r){if(!(0,H.req)(r))return!0;if(typeof r!="string")return!1;var e=r.split(".");return e.length===4&&e.every(Le)});var Le=function(e){if(e.length>3||e.length===0||e[0]==="0"&&e!=="0"||!e.match(/^\d+$/))return!1;var t=+e|0;return t>=0&&t<=255},S={};Object.defineProperty(S,"__esModule",{value:!0});var J=s;S.default=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:":";return(0,J.withParams)({type:"macAddress"},function(e){if(!(0,J.req)(e))return!0;if(typeof e!="string")return!1;var t=typeof r=="string"&&r!==""?e.split(r):e.length===12||e.length===16?e.match(/.{2}/g):null;return t!==null&&(t.length===6||t.length===8)&&t.every(Se)})};var Se=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)},F={};Object.defineProperty(F,"__esModule",{value:!0});var b=s;F.default=function(r){return(0,b.withParams)({type:"maxLength",max:r},function(e){return!(0,b.req)(e)||(0,b.len)(e)<=r})};var I={};Object.defineProperty(I,"__esModule",{value:!0});var w=s;I.default=function(r){return(0,w.withParams)({type:"minLength",min:r},function(e){return!(0,w.req)(e)||(0,w.len)(e)>=r})};var D={};Object.defineProperty(D,"__esModule",{value:!0});var K=s;D.default=(0,K.withParams)({type:"required"},K.req);var E={};Object.defineProperty(E,"__esModule",{value:!0});var C=s;E.default=function(r){return(0,C.withParams)({type:"requiredIf",prop:r},function(e,t){return(0,C.ref)(r,this,t)?(0,C.req)(e):!0})};var R={};Object.defineProperty(R,"__esModule",{value:!0});var x=s;R.default=function(r){return(0,x.withParams)({type:"requiredUnless",prop:r},function(e,t){return(0,x.ref)(r,this,t)?!0:(0,x.req)(e)})};var z={};Object.defineProperty(z,"__esModule",{value:!0});var Q=s;z.default=function(r){return(0,Q.withParams)({type:"sameAs",eq:r},function(e,t){return e===(0,Q.ref)(r,this,t)})};var T={};Object.defineProperty(T,"__esModule",{value:!0});var Fe=s,Ie=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i;T.default=(0,Fe.regex)("url",Ie);var U={};Object.defineProperty(U,"__esModule",{value:!0});var De=s;U.default=function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];return(0,De.withParams)({type:"or"},function(){for(var a=this,i=arguments.length,o=Array(i),d=0;d<i;d++)o[d]=arguments[d];return e.length>0&&e.reduce(function(P,A){return P||A.apply(a,o)},!1)})};var B={};Object.defineProperty(B,"__esModule",{value:!0});var Ee=s;B.default=function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];return(0,Ee.withParams)({type:"and"},function(){for(var a=this,i=arguments.length,o=Array(i),d=0;d<i;d++)o[d]=arguments[d];return e.length>0&&e.reduce(function(P,A){return P&&A.apply(a,o)},!0)})};var W={};Object.defineProperty(W,"__esModule",{value:!0});var X=s;W.default=function(r){return(0,X.withParams)({type:"minValue",min:r},function(e){return!(0,X.req)(e)||(!/\s/.test(e)||e instanceof Date)&&+e>=+r})};var Z={};Object.defineProperty(Z,"__esModule",{value:!0});var Y=s;Z.default=function(r){return(0,Y.withParams)({type:"maxValue",max:r},function(e){return!(0,Y.req)(e)||(!/\s/.test(e)||e instanceof Date)&&+e<=+r})};Object.defineProperty(n,"__esModule",{value:!0});n.maxValue=n.minValue=n.and=n.or=n.url=n.sameAs=n.requiredUnless=n.requiredIf=v=n.required=n.minLength=g=n.maxLength=n.macAddress=n.ipAddress=n.email=n.between=n.numeric=n.alphaNum=n.alpha=void 0;var Re=V,ze=l(Re),Te=N,Ue=l(Te),Be=M,We=l(Be),Ze=O,Ge=l(Ze),He=j,Je=l(He),Ke=L,Qe=l(Ke),Xe=S,Ye=l(Xe),ke=F,et=l(ke),tt=I,rt=l(tt),at=D,nt=l(at),st=E,it=l(st),lt=R,ot=l(lt),dt=z,ut=l(dt),mt=T,ft=l(mt),ct=U,pt=l(ct),gt=B,vt=l(gt),ht=W,yt=l(ht),_t=Z,Pt=l(_t);function l(r){return r&&r.__esModule?r:{default:r}}n.alpha=ze.default;n.alphaNum=Ue.default;n.numeric=We.default;n.between=Ge.default;n.email=Je.default;n.ipAddress=Qe.default;n.macAddress=Ye.default;var g=n.maxLength=et.default;n.minLength=rt.default;var v=n.required=nt.default;n.requiredIf=it.default;n.requiredUnless=ot.default;n.sameAs=ut.default;n.url=ft.default;n.or=pt.default;n.and=vt.default;n.minValue=yt.default;n.maxValue=Pt.default;const jt={title:"component/CompletingParty"},At={streetAddress:{required:v,maxLength:g(50)},streetAddressAdditional:{maxLength:g(50)},addressCity:{required:v,maxLength:g(40)},addressCountry:{required:v},addressRegion:{maxLength:g(2)},postalCode:{required:v,maxLength:g(15)},deliveryInstructions:{maxLength:g(80)}},bt=(r,{argTypes:e})=>({props:Object.keys(e),components:{CompletingParty:_e},template:'<v-card flat><completing-party v-bind="$props" /></v-card>'}),h=bt.bind({});h.args={completingParty:{firstName:"Cameron",middleName:"D",lastName:"Bowler",mailingAddress:{addressCity:"Victoria",addressCountry:"Canada",addressRegion:"BC",deliveryInstructions:"Test test test",postalCode:"V8V 1s8",streetAddress:"1234",streetAddressAdditional:"Test Street Additional"}},enableAddEdit:!1,addressSchema:At,validate:!1,invalidSection:!1};var k,ee,te;h.parameters={...h.parameters,docs:{...(k=h.parameters)==null?void 0:k.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    CompletingParty
  },
  template: '<v-card flat><completing-party v-bind="$props" /></v-card>'
})`,...(te=(ee=h.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};const Lt=["Default"];export{h as Default,Lt as __namedExportsOrder,jt as default};
//# sourceMappingURL=CompletingParty.stories-188bee5a.js.map
