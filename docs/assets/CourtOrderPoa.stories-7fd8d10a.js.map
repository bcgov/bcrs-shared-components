{"version":3,"file":"CourtOrderPoa.stories-7fd8d10a.js","sources":["../../src/components/court-order-poa/CourtOrderPoa.vue"],"sourcesContent":["<template>\r\n  <div id=\"court-order-poa\">\r\n    <v-row no-gutters>\r\n      <v-col\r\n        v-if=\"displaySideLabels\"\r\n        cols=\"12\"\r\n        sm=\"3\"\r\n        class=\"pr-4\"\r\n      >\r\n        <label\r\n          id=\"court-order-label\"\r\n          :class=\"{'error-text': invalidSection}\"\r\n        >Court Order Number</label>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        :sm=\"displaySideLabels ? 9 : 12\"\r\n      >\r\n        <v-form\r\n          id=\"court-num-form\"\r\n          ref=\"courtNumRef\"\r\n          v-model=\"valid\"\r\n        >\r\n          <v-text-field\r\n            id=\"court-order-number-input\"\r\n            v-model=\"courtOrderNumber\"\r\n            label=\"Court Order Number\"\r\n            :rules=\"courtOrderNumRules\"\r\n            filled\r\n          />\r\n        </v-form>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row no-gutters>\r\n      <v-col\r\n        v-if=\"displaySideLabels\"\r\n        cols=\"12\"\r\n        sm=\"3\"\r\n        class=\"pr-4\"\r\n      >\r\n        <label id=\"poa-label\">Plan of Arrangement</label>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        :sm=\"displaySideLabels ? 9 : 12\"\r\n      >\r\n        <v-checkbox\r\n          id=\"plan-of-arrangement-checkbox\"\r\n          v-model=\"planOfArrangement\"\r\n          class=\"mt-0 pt-0\"\r\n          hide-details\r\n          label=\"This filing is pursuant to a Plan of Arrangement\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from 'vue'\r\nimport { Component, Emit, Prop, Watch } from 'vue-property-decorator'\r\nimport { FormIF } from '@bcrs-shared-components/interfaces'\r\n\r\n@Component({})\r\nexport default class CourtOrderPoa extends Vue {\r\n  // Refs\r\n  $refs!: Vue['$refs'] & {\r\n    courtNumRef: FormIF\r\n  }\r\n\r\n  /** Draft court order number. */\r\n  @Prop({ default: '' }) readonly draftCourtOrderNumber!: string\r\n\r\n  /** Draft plan of arrangement. */\r\n  @Prop({ default: false }) readonly hasDraftPlanOfArrangement!: boolean\r\n\r\n  /** Prompt Error. */\r\n  @Prop({ default: false }) readonly invalidSection!: boolean\r\n\r\n  /** Display side labels. */\r\n  @Prop({ default: true }) readonly displaySideLabels!: boolean\r\n\r\n  /** Whether court order number is required regardless plan of arrangement. */\r\n  @Prop({ default: false }) readonly courtOrderNumberRequired!: boolean\r\n\r\n  // Local properties\r\n  private courtOrderNumber = ''\r\n  private courtOrderNumRules = []\r\n  private planOfArrangement = false\r\n  private valid = false\r\n\r\n  /** Called when component is mounted. */\r\n  mounted (): void {\r\n    // Set default draft values if they exist\r\n    if (this.draftCourtOrderNumber) this.courtOrderNumber = this.draftCourtOrderNumber\r\n    if (this.hasDraftPlanOfArrangement) this.planOfArrangement = this.hasDraftPlanOfArrangement\r\n  }\r\n\r\n  /** Clear rules and reset validations. */\r\n  private clearValidations (): void {\r\n    this.courtOrderNumRules = []\r\n    this.$refs.courtNumRef.resetValidation()\r\n  }\r\n\r\n  /** Triggers the form validation. */\r\n  public validate (): boolean {\r\n    return this.$refs.courtNumRef.validate()\r\n  }\r\n\r\n  @Watch('planOfArrangement')\r\n  @Watch('courtOrderNumber')\r\n  @Watch('courtOrderNumberRequired')\r\n  validateCourtNum (): void {\r\n    // Apply TextField rules\r\n    this.courtOrderNumRules = [\r\n      (v: string) => (!v || !/^\\s/g.test(v)) || 'Invalid spaces', // leading spaces\r\n      (v: string) => (!v || !/\\s$/g.test(v)) || 'Invalid spaces', // trailing spaces\r\n      (v: string) => (!v || !(v.length < 5)) || 'Court order number is invalid',\r\n      (v: string) => (!v || !(v.length > 20)) || 'Court order number is invalid'\r\n    ]\r\n    if (this.courtOrderNumberRequired || this.planOfArrangement) {\r\n      this.courtOrderNumRules.push((v: string) => !!v || 'A Court Order number is required')\r\n    }\r\n    this.$refs.courtNumRef.validate()\r\n  }\r\n\r\n  /** Emit court order number. */\r\n  @Watch('courtOrderNumber')\r\n  @Emit('emitCourtNumber')\r\n  private emitCourtNumber (): string { return this.courtOrderNumber }\r\n\r\n  /** Emit plan of arrangement. */\r\n  @Watch('planOfArrangement')\r\n  @Emit('emitPoa')\r\n  private emitPoa (): boolean {\r\n    return this.planOfArrangement\r\n  }\r\n\r\n  @Watch('valid')\r\n  @Emit('emitValid')\r\n  private emitValid (): boolean {\r\n    return this.valid\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/theme.scss';\r\n\r\n#court-order-label,\r\n#poa-label {\r\n  font-size: $px-16;\r\n  font-weight: bold;\r\n  color: $gray9;\r\n}\r\n\r\n:deep() {\r\n  .v-card__actions {\r\n    justify-content: flex-end;\r\n  }\r\n\r\n  .v-input .v-label {\r\n    font-weight: normal;\r\n    color: $gray7;\r\n  }\r\n\r\n  .theme--light.v-input input {\r\n    font-weight: normal;\r\n    color: $gray7;\r\n  }\r\n}\r\n</style>\r\n"],"names":["CourtOrderPoa","Vue","__publicField","v","__decorateClass","Prop","Watch","Emit","Component"],"mappings":"ygBAgEA,IAAAA,EAAA,cAAAC,CAAA,CAAA,kCAEAC,EAAA,cAKAA,EAAA,8BAGAA,EAAA,kCAGAA,EAAA,uBAGAA,EAAA,0BAGAA,EAAA,iCAGAA,EAAA,wBAAA,IACAA,EAAA,0BAAA,CAAA,GACAA,EAAA,yBAAA,IACAA,EAAA,aAAA,IAGA,SAAA,CAEA,KAAA,wBAAA,KAAA,iBAAA,KAAA,uBACA,KAAA,4BAAA,KAAA,kBAAA,KAAA,0BACA,CAGA,kBAAA,CACA,KAAA,mBAAA,GACA,KAAA,MAAA,YAAA,iBACA,CAGA,UAAA,CACA,OAAA,KAAA,MAAA,YAAA,SAAA,CACA,CAKA,kBAAA,CAEA,KAAA,mBAAA,CACAC,GAAA,CAAAA,GAAA,CAAA,OAAA,KAAAA,CAAA,GAAA,iBACAA,GAAA,CAAAA,GAAA,CAAA,OAAA,KAAAA,CAAA,GAAA,iBACAA,GAAA,CAAAA,GAAA,EAAAA,EAAA,OAAA,IAAA,gCACAA,GAAA,CAAAA,GAAA,EAAAA,EAAA,OAAA,KAAA,+BAAA,GAEA,KAAA,0BAAA,KAAA,oBACA,KAAA,mBAAA,KAAAA,GAAA,CAAA,CAAAA,GAAA,kCAAA,EAEA,KAAA,MAAA,YAAA,UACA,CAKA,iBAAA,CAAA,OAAA,KAAA,gBAAA,CAKA,SAAA,CACA,OAAA,KAAA,iBACA,CAIA,WAAA,CACA,OAAA,KAAA,KACA,CACA,EAxEAC,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAPAL,EAOA,UAAA,wBAAA,CAAA,EAGAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAVAL,EAUA,UAAA,4BAAA,CAAA,EAGAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAbAL,EAaA,UAAA,iBAAA,CAAA,EAGAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAhBAL,EAgBA,UAAA,oBAAA,CAAA,EAGAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAnBAL,EAmBA,UAAA,2BAAA,CAAA,EA6BAI,EAAA,CAHAE,EAAA,mBAAA,EACAA,EAAA,kBAAA,EACAA,EAAA,0BAAA,CAAA,EA/CAN,EAgDA,UAAA,mBAAA,CAAA,EAiBAI,EAAA,CAFAE,EAAA,kBAAA,EACAC,EAAA,iBAAA,CAAA,EAhEAP,EAiEA,UAAA,kBAAA,CAAA,EAKAI,EAAA,CAFAE,EAAA,mBAAA,EACAC,EAAA,SAAA,CAAA,EArEAP,EAsEA,UAAA,UAAA,CAAA,EAMAI,EAAA,CAFAE,EAAA,OAAA,EACAC,EAAA,WAAA,CAAA,EA3EAP,EA4EA,UAAA,YAAA,CAAA,EA5EAA,EAAAI,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAR,CAAA;;;;;;;;;;;;;;;;"}