var ie=Object.defineProperty;var me=(n,t,e)=>t in n?ie(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var o=(n,t,e)=>(me(n,typeof t!="symbol"?t+"":t,e),e);import{V as E}from"./vue.esm-b1e57a2f.js";import{c as pe,E as p,C as x,P as i,n as V,m as W}from"./_plugin-vue2_normalizer-b11a0120.js";import{W as c}from"./Watch-62f8b699.js";import{C as S}from"./corp-type-module-5c1df937.js";import{N as z}from"./validation-mixin-61dc4f18.js";import"./lodash-f6b38868.js";import"./_commonjsHelpers-de833af9.js";function ce(n){return typeof n!="function"||!n.managed&&!n.managedReactive}function le(n){var t=function(){var e=this,r=typeof n=="function"?n.call(this):n;r=Object.create(r||null),r[I]=Object.create(this[I]||{});for(var a in t.managed)r[t.managed[a]]=this[a];var s=function(P){r[t.managedReactive[P]]=m[P],Object.defineProperty(r[I],t.managedReactive[P],{enumerable:!0,configurable:!0,get:function(){return e[P]}})},m=this;for(var a in t.managedReactive)s(a);return r};return t.managed={},t.managedReactive={},t}var I="__reactiveInject__";function de(n){Array.isArray(n.inject)||(n.inject=n.inject||{},n.inject[I]={from:I,default:{}})}function Z(n){return pe(function(t,e){var r=t.provide;de(t),ce(r)&&(r=t.provide=le(r)),r.managed[e]=n||e})}var v=(n=>(n.CORRECT_AML_ADOPT="correct-aml-adopt",n.CORRECT_AML_NUMBERED="correct-aml-numbered",n.CORRECT_NAME="correct-name",n.CORRECT_NAME_TO_NUMBER="correct-name-to-number",n.CORRECT_NEW_NR="correct-new-nr",n.CORRECT_NEW_NR_STAFF="correct-new-nr-staff",n))(v||{}),ue=Object.defineProperty,fe=Object.getOwnPropertyDescriptor,T=(n,t,e,r)=>{for(var a=r>1?void 0:r?fe(t,e):t,s=n.length-1,m;s>=0;s--)(m=n[s])&&(a=(r?m(t,e,a):m(a))||a);return r&&a&&ue(t,e,a),a};let b=class extends E{constructor(){super(...arguments);o(this,"$refs");o(this,"amalgamatingBusinesses");o(this,"formType");o(this,"validate");o(this,"option",null);o(this,"formValid",!1)}get radioOptions(){return this.amalgamatingBusinesses.map(e=>({name:e.name,id:e.identifier}))}onSubmit(){this.formType===v.CORRECT_AML_ADOPT&&(this.emitCompanyName(this.radioOptions[this.option].name),this.emitSaved(!0))}onValidate(e){e?this.$refs.form.validate():this.$refs.form.resetValidation()}emitValid(){return this.formValid}emitSaved(e){}emitCompanyName(e){}};T([i({default:()=>[]})],b.prototype,"amalgamatingBusinesses",2);T([i({required:!0})],b.prototype,"formType",2);T([i({required:!0})],b.prototype,"validate",2);T([c("formType")],b.prototype,"onSubmit",1);T([c("validate")],b.prototype,"onValidate",1);T([c("formValid"),p("valid")],b.prototype,"emitValid",1);T([p("saved")],b.prototype,"emitSaved",1);T([p("update:companyName")],b.prototype,"emitCompanyName",1);b=T([x({})],b);var ye=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("v-form",{ref:"form",attrs:{id:"correct-aml-adopt-form"},model:{value:t.formValid,callback:function(r){t.formValid=r},expression:"formValid"}},[t.radioOptions.length>0?e("v-radio-group",{attrs:{"hide-details":"",rules:[t.option!==null]},model:{value:t.option,callback:function(r){t.option=r},expression:"option"}},t._l(t.radioOptions,function(r,a){return e("v-radio",{key:r.id,attrs:{id:`radio-${a}`,value:a},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"radio-option ml-6",domProps:{innerHTML:t._s(r.name)}})]},proxy:!0}],null,!0)})}),1):e("v-card",{staticClass:"rounded-0 ma-0",attrs:{outlined:""}},[e("div",{staticClass:"px-7 py-5"},[t._v(" You will be able to adopt a name from the businesses in the list that have the same business type as the resulting business. ")])])],1)},ve=[],H=V(b,ye,ve,!1,null,"9e61f0e6",null,null);const K=H.exports;H.exports.__docgenInfo={exportName:"default",displayName:"CorrectAmlAdopt",description:"",tags:{},props:[{name:"amalgamatingBusinesses",tags:{},type:{name:"Array",elements:[{name:"any"}]},defaultValue:{func:!0,value:"() => []"}},{name:"formType",tags:{},type:{name:"CorrectNameOptions"},required:!0},{name:"validate",tags:{},type:{name:"boolean"},required:!0}],events:[{name:"saved",description:"Inform parent that the process is complete."},{name:"update:companyName",description:"Inform parent of updated company name."}],sourceFiles:["/home/severin/repos/bcrs-shared-components/src/components/correct-name/CorrectAmlAdopt.vue"]};var _e=Object.defineProperty,Ne=Object.getOwnPropertyDescriptor,q=(n,t,e,r)=>{for(var a=r>1?void 0:r?Ne(t,e):t,s=n.length-1,m;s>=0;s--)(m=n[s])&&(a=(r?m(t,e,a):m(a))||a);return r&&a&&_e(t,e,a),a};let g=class extends E{constructor(){super(...arguments);o(this,"$refs");o(this,"entityType");o(this,"formType");o(this,"validate");o(this,"checkbox",!1);o(this,"formValid",!1);o(this,"label","The resulting company name will be the incorporation number followed by a suffix. The suffix will reflect the type of resulting business type.")}get numberedName(){switch(this.entityType){case S.BC_ULC_COMPANY:return"[Incorporation Number] B.C. UNLIMITED LIABILITY COMPANY";case S.BC_CCC:return"[Incorporation Number] B.C. COMMUNITY CONTRIBUTION COMPANY LTD.";default:return"[Incorporation Number] B.C. LTD."}}onSubmit(){this.formType===v.CORRECT_AML_NUMBERED&&(this.emitCompanyName(null),this.emitSaved(!0))}onValidate(e){e?this.$refs.form.validate():this.$refs.form.resetValidation()}emitValid(){return this.formValid}emitSaved(e){}emitCompanyName(e){}};q([i({required:!0})],g.prototype,"entityType",2);q([i({required:!0})],g.prototype,"formType",2);q([i({required:!0})],g.prototype,"validate",2);q([c("formType")],g.prototype,"onSubmit",1);q([c("validate")],g.prototype,"onValidate",1);q([c("formValid",{immediate:!0}),p("valid")],g.prototype,"emitValid",1);q([p("saved")],g.prototype,"emitSaved",1);q([p("update:companyName")],g.prototype,"emitCompanyName",1);g=q([x({})],g);var he=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("v-form",{ref:"form",attrs:{id:"correct-aml-numbered-form"},model:{value:t.formValid,callback:function(r){t.formValid=r},expression:"formValid"}},[e("v-checkbox",{attrs:{id:"correct-new-numbered-checkbox","hide-details":"",label:t.label,rules:[r=>r]},model:{value:t.checkbox,callback:function(r){t.checkbox=r},expression:"checkbox"}})],1)},Ce=[],G=V(g,he,Ce,!1,null,"3bdc6a5a",null,null);const J=G.exports;G.exports.__docgenInfo={exportName:"default",displayName:"CorrectAmlNumbered",description:"",tags:{},props:[{name:"entityType",tags:{},type:{name:"CorpTypeCd"},required:!0},{name:"formType",tags:{},type:{name:"CorrectNameOptions"},required:!0},{name:"validate",tags:{},type:{name:"boolean"},required:!0}],events:[{name:"saved",description:"Inform parent that the process is complete."},{name:"update:companyName",description:"Inform parent of updated company name."}],sourceFiles:["/home/severin/repos/bcrs-shared-components/src/components/correct-name/CorrectAmlNumbered.vue"]};var be=Object.defineProperty,ge=Object.getOwnPropertyDescriptor,N=(n,t,e,r)=>{for(var a=r>1?void 0:r?ge(t,e):t,s=n.length-1,m;s>=0;s--)(m=n[s])&&(a=(r?m(t,e,a):m(a))||a);return r&&a&&be(t,e,a),a};let u=class extends E{constructor(){super(...arguments);o(this,"$refs");o(this,"companyName");o(this,"formType");o(this,"validate");o(this,"formValid",!1);o(this,"textfield","")}get companyNameRules(){return[e=>!!e||" A company name is required",e=>e!==this.companyName||" Enter a new company name"]}onCompanyNameChanged(e){this.textfield=e}onSubmit(){this.formType===v.CORRECT_NAME&&(this.emitCompanyName(this.textfield),this.emitSaved(!0))}onValidate(e){e?this.$refs.form.validate():this.$refs.form.resetValidation()}emitValid(){return this.formValid}emitSaved(e){}emitCompanyName(e){}};N([i({required:!0})],u.prototype,"companyName",2);N([i({required:!0})],u.prototype,"formType",2);N([i({required:!0})],u.prototype,"validate",2);N([Z()],u.prototype,"formValid",2);N([Z()],u.prototype,"textfield",2);N([c("companyName",{immediate:!0})],u.prototype,"onCompanyNameChanged",1);N([c("formType")],u.prototype,"onSubmit",1);N([c("validate")],u.prototype,"onValidate",1);N([c("formValid"),p("valid")],u.prototype,"emitValid",1);N([p("saved")],u.prototype,"emitSaved",1);N([p("update:companyName")],u.prototype,"emitCompanyName",1);u=N([x({})],u);var Re=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("v-form",{ref:"form",attrs:{id:"correct-company-name-form"},model:{value:t.formValid,callback:function(r){t.formValid=r},expression:"formValid"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",[e("v-text-field",{staticClass:"mb-n3",attrs:{id:"company-name-textfield",filled:"",rules:t.companyNameRules},model:{value:t.textfield,callback:function(r){t.textfield=r},expression:"textfield"}})],1)],1)],1)},Te=[],Q=V(u,Re,Te,!1,null,null,null,null);const X=Q.exports;Q.exports.__docgenInfo={exportName:"default",displayName:"CorrectCompanyName",description:"",tags:{},props:[{name:"companyName",tags:{},type:{name:"string"},required:!0},{name:"formType",tags:{},type:{name:"CorrectNameOptions"},required:!0},{name:"validate",tags:{},type:{name:"boolean"},required:!0}],events:[{name:"saved",description:"Inform parent that the process is complete."},{name:"update:companyName",description:"Inform parent of updated company name."}],sourceFiles:["/home/severin/repos/bcrs-shared-components/src/components/correct-name/CorrectCompanyName.vue"]};var qe=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,R=(n,t,e,r)=>{for(var a=r>1?void 0:r?xe(t,e):t,s=n.length-1,m;s>=0;s--)(m=n[s])&&(a=(r?m(t,e,a):m(a))||a);return r&&a&&qe(t,e,a),a};let _=class extends E{constructor(){super(...arguments);o(this,"$refs");o(this,"businessId");o(this,"entityType");o(this,"formType");o(this,"validate");o(this,"checkbox",!1);o(this,"formValid",!1)}get numberedName(){var r;const e=((r=this.businessId)==null?void 0:r.substring(2))||"Unknown";switch(this.entityType){case S.BC_ULC_COMPANY:return`${e} B.C. UNLIMITED LIABILITY COMPANY`;case S.BC_CCC:return`${e} B.C. COMMUNITY CONTRIBUTION COMPANY LTD.`;default:return`${e} B.C. LTD.`}}onSubmit(){this.formType===v.CORRECT_NAME_TO_NUMBER&&(this.emitCompanyName(this.numberedName),this.emitSaved(!0))}onValidate(e){e?this.$refs.form.validate():this.$refs.form.resetValidation()}emitValid(){return this.formValid}emitSaved(e){}emitCompanyName(e){}};R([i({required:!0})],_.prototype,"businessId",2);R([i({required:!0})],_.prototype,"entityType",2);R([i({required:!0})],_.prototype,"formType",2);R([i({required:!0})],_.prototype,"validate",2);R([c("formType")],_.prototype,"onSubmit",1);R([c("validate")],_.prototype,"onValidate",1);R([c("formValid"),p("valid")],_.prototype,"emitValid",1);R([p("saved")],_.prototype,"emitSaved",1);R([p("update:companyName")],_.prototype,"emitCompanyName",1);_=R([x({})],_);var Ve=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("v-form",{ref:"form",attrs:{id:"correct-name-to-number-form"},model:{value:t.formValid,callback:function(r){t.formValid=r},expression:"formValid"}},[e("v-checkbox",{staticClass:"mb-n5",attrs:{id:"correct-name-to-number-checkbox",label:`Change the company name to ${t.numberedName}`,rules:[r=>r]},model:{value:t.checkbox,callback:function(r){t.checkbox=r},expression:"checkbox"}})],1)},Oe=[],ee=V(_,Ve,Oe,!1,null,"c50e5811",null,null);const te=ee.exports;ee.exports.__docgenInfo={exportName:"default",displayName:"CorrectNameToNumber",description:"",tags:{},props:[{name:"businessId",tags:{},type:{name:"string"},required:!0},{name:"entityType",tags:{},type:{name:"CorpTypeCd"},required:!0},{name:"formType",tags:{},type:{name:"CorrectNameOptions"},required:!0},{name:"validate",tags:{},type:{name:"boolean"},required:!0}],events:[{name:"saved",description:"Inform parent that the process is complete."},{name:"update:companyName",description:"Inform parent of updated company name."}],sourceFiles:["/home/severin/repos/bcrs-shared-components/src/components/correct-name/CorrectNameToNumber.vue"]};var $e=Object.defineProperty,Ae=Object.getOwnPropertyDescriptor,h=(n,t,e,r)=>{for(var a=r>1?void 0:r?Ae(t,e):t,s=n.length-1,m;s>=0;s--)(m=n[s])&&(a=(r?m(t,e,a):m(a))||a);return r&&a&&$e(t,e,a),a};let f=class extends W(z){constructor(){super(...arguments);o(this,"$refs");o(this,"fetchAndValidateNr");o(this,"formType");o(this,"nameRequest");o(this,"validate");o(this,"applicantEmail","");o(this,"applicantPhone","");o(this,"formValid",!1);o(this,"nrNumber","");o(this,"nrNumRules",[e=>!!e||"Name Request Number is required",e=>this.isValidNrNumber(e)||"Name Request Number is invalid"]);o(this,"phoneRules",[e=>!/^\s/g.test(e)||"Invalid spaces",e=>!/\s$/g.test(e)||"Invalid spaces",e=>!((e==null?void 0:e.length)>12)||"Phone number is invalid"]);o(this,"emailRules",[e=>!/^\s/g.test(e)||"Invalid spaces",e=>!/\s$/g.test(e)||"Invalid spaces",e=>this.isValidEmail(e)||"Email is invalid"])}get componentValid(){return this.formValid&&!!this.nrNumber&&(!!this.applicantPhone||!!this.applicantEmail)}isValidNrNumber(e){return new RegExp(/^(NR )\d{7}$/).test(e)}isValidEmail(e){return(e==null?void 0:e.length)<1||this.applicantPhone&&e?!0:new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e)}async onSubmit(){if(this.formType===v.CORRECT_NEW_NR)try{const e=await this.fetchAndValidateNr(this.nrNumber,this.applicantPhone,this.applicantEmail);this.emitNameRequest(e),this.emitCompanyName(this.getNrApprovedName(e)),this.emitSaved(!0)}catch(e){this.emitError(e.message),this.$refs.form.resetValidation(),this.emitSaved(!1)}}onValidate(e){e?this.$refs.form.validate():this.$refs.form.resetValidation()}emitValid(){return this.componentValid}emitError(e){}emitSaved(e){}emitCompanyName(e){}emitNameRequest(e){}};h([i({required:!0})],f.prototype,"fetchAndValidateNr",2);h([i({required:!0})],f.prototype,"formType",2);h([i({required:!0})],f.prototype,"nameRequest",2);h([i({required:!0})],f.prototype,"validate",2);h([c("formType")],f.prototype,"onSubmit",1);h([c("validate")],f.prototype,"onValidate",1);h([c("componentValid"),p("valid")],f.prototype,"emitValid",1);h([p("error")],f.prototype,"emitError",1);h([p("saved")],f.prototype,"emitSaved",1);h([p("update:companyName")],f.prototype,"emitCompanyName",1);h([p("update:nameRequest")],f.prototype,"emitNameRequest",1);f=h([x({})],f);var Ie=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("v-form",{ref:"form",attrs:{id:"correct-name-request-form","lazy-validation":""},model:{value:t.formValid,callback:function(r){t.formValid=r},expression:"formValid"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{staticClass:"mt-3",attrs:{cols:"1"}},[e("v-chip",{staticClass:"step-icon",attrs:{outlined:""}},[t._v(" 1 ")])],1),e("v-col",[e("v-text-field",{staticClass:"text-input-field",attrs:{id:"nr-number",autofocus:"",filled:"","persistent-hint":"",label:"Enter the NR Number",hint:"Example: NR 1234567",rules:t.nrNumRules},on:{keyup:function(r){t.nrNumber=t.nrNumber.toUpperCase()}},model:{value:t.nrNumber,callback:function(r){t.nrNumber=r},expression:"nrNumber"}})],1)],1),e("v-row",{staticClass:"mt-4 mb-n1",attrs:{"no-gutters":""}},[e("v-col",{staticClass:"mt-3",attrs:{cols:"1"}},[e("v-chip",{staticClass:"step-icon",attrs:{outlined:""}},[t._v(" 2 ")])],1),e("v-col",{attrs:{cols:"5"}},[e("v-text-field",{staticClass:"text-input-field",attrs:{id:"applicant-phone",filled:"","persistent-hint":"",label:"Applicant's Phone Number",hint:"Example: 555-555-5555",type:"tel",rules:t.phoneRules},model:{value:t.applicantPhone,callback:function(r){t.applicantPhone=r},expression:"applicantPhone"}})],1),e("div",{staticClass:"ma-5"},[t._v(" or ")]),e("v-col",[e("v-text-field",{staticClass:"text-input-field",attrs:{id:"applicant-email",filled:"","persistent-hint":"",label:"Applicant's Notification Email",hint:"Example: name@email.com",type:"email",rules:t.emailRules},model:{value:t.applicantEmail,callback:function(r){t.applicantEmail=r},expression:"applicantEmail"}})],1)],1)],1)},Ee=[],re=V(f,Ie,Ee,!1,null,"1333619e",null,null);const ae=re.exports;re.exports.__docgenInfo={description:"Mixin that provides some useful Name Request utilities.",tags:{},exportName:"default",displayName:"CorrectNameRequest",props:[{name:"fetchAndValidateNr",tags:{},type:{name:"TSFunctionType"},required:!0},{name:"formType",tags:{},type:{name:"CorrectNameOptions"},required:!0},{name:"nameRequest",tags:{},type:{name:"NameRequestIF"},required:!0},{name:"validate",tags:{},type:{name:"boolean"},required:!0}],events:[{name:"error",description:"Inform parent of error."},{name:"saved",description:"Inform parent that the process is complete."},{name:"update:companyName",description:"Inform parent of updated company name."},{name:"update:nameRequest",description:"Inform parent of updated name request object."}],sourceFiles:["/home/severin/repos/bcrs-shared-components/src/components/correct-name/CorrectNameRequest.vue","/home/severin/repos/bcrs-shared-components/src/mixins/name-request-mixin.ts"]};var Pe=Object.defineProperty,Se=Object.getOwnPropertyDescriptor,C=(n,t,e,r)=>{for(var a=r>1?void 0:r?Se(t,e):t,s=n.length-1,m;s>=0;s--)(m=n[s])&&(a=(r?m(t,e,a):m(a))||a);return r&&a&&Pe(t,e,a),a};let y=class extends W(z){constructor(){super(...arguments);o(this,"$refs");o(this,"fetchAndValidateNr");o(this,"formType");o(this,"nameRequest");o(this,"validate");o(this,"formValid",!1);o(this,"nrNumber","");o(this,"nrNumRules",[e=>!!e||"Name Request Number is required",e=>this.isValidNrNumber(e)||"Name Request Number is invalid"])}get componentValid(){return this.formValid&&!!this.nrNumber}isValidNrNumber(e){return new RegExp(/^(NR )\d{7}$/).test(e)}async onSubmit(){if(this.formType===v.CORRECT_NEW_NR_STAFF)try{const e=await this.fetchAndValidateNr(this.nrNumber);this.emitNameRequest(e),this.emitCompanyName(this.getNrApprovedName(e)),this.emitSaved(!0)}catch(e){this.emitError(e.message),this.$refs.form.resetValidation(),this.emitSaved(!1)}}onValidate(e){e?this.$refs.form.validate():this.$refs.form.resetValidation()}emitValid(){return this.componentValid}emitError(e){}emitSaved(e){}emitCompanyName(e){}emitNameRequest(e){}};C([i({required:!0})],y.prototype,"fetchAndValidateNr",2);C([i({required:!0})],y.prototype,"formType",2);C([i({required:!0})],y.prototype,"nameRequest",2);C([i({required:!0})],y.prototype,"validate",2);C([c("formType")],y.prototype,"onSubmit",1);C([c("validate")],y.prototype,"onValidate",1);C([c("componentValid"),p("valid")],y.prototype,"emitValid",1);C([p("error")],y.prototype,"emitError",1);C([p("saved")],y.prototype,"emitSaved",1);C([p("update:companyName")],y.prototype,"emitCompanyName",1);C([p("update:nameRequest")],y.prototype,"emitNameRequest",1);y=C([x({})],y);var we=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("v-form",{ref:"form",attrs:{id:"correct-name-request-staff-form","lazy-validation":""},model:{value:t.formValid,callback:function(r){t.formValid=r},expression:"formValid"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",[e("v-text-field",{staticClass:"text-input-field",attrs:{id:"nr-number",autofocus:"",filled:"","persistent-hint":"",label:"Enter the NR Number",hint:"Example: NR 1234567",rules:t.nrNumRules},on:{keyup:function(r){t.nrNumber=t.nrNumber.toUpperCase()}},model:{value:t.nrNumber,callback:function(r){t.nrNumber=r},expression:"nrNumber"}})],1)],1)],1)},Fe=[],ne=V(y,we,Fe,!1,null,"810fec56",null,null);const oe=ne.exports;ne.exports.__docgenInfo={description:"Mixin that provides some useful Name Request utilities.",tags:{},exportName:"default",displayName:"CorrectNameRequestStaff",props:[{name:"fetchAndValidateNr",tags:{},type:{name:"TSFunctionType"},required:!0},{name:"formType",tags:{},type:{name:"CorrectNameOptions"},required:!0},{name:"nameRequest",tags:{},type:{name:"NameRequestIF"},required:!0},{name:"validate",tags:{},type:{name:"boolean"},required:!0}],events:[{name:"error",description:"Inform parent of error."},{name:"saved",description:"Inform parent that the process is complete."},{name:"update:companyName",description:"Inform parent of updated company name."},{name:"update:nameRequest",description:"Inform parent of updated name request object."}],sourceFiles:["/home/severin/repos/bcrs-shared-components/src/components/correct-name/CorrectNameRequestStaff.vue","/home/severin/repos/bcrs-shared-components/src/mixins/name-request-mixin.ts"]};var Me=Object.defineProperty,De=Object.getOwnPropertyDescriptor,d=(n,t,e,r)=>{for(var a=r>1?void 0:r?De(t,e):t,s=n.length-1,m;s>=0;s--)(m=n[s])&&(a=(r?m(t,e,a):m(a))||a);return r&&a&&Me(t,e,a),a};let l=class extends E{constructor(){super(...arguments);o(this,"actionTxt");o(this,"amalgamatingBusinesses");o(this,"businessId");o(this,"companyName");o(this,"correctionNameChoices");o(this,"entityType");o(this,"fetchAndValidateNr");o(this,"formType");o(this,"nameRequest");o(this,"displayedOptions",[]);o(this,"panel",null);o(this,"currentFormType",null);o(this,"isLoading",!1);o(this,"isSubComponentValid",!1);o(this,"validate",!1);o(this,"correctionNameOptions",[{id:v.CORRECT_AML_ADOPT,title:"Adopt from one of the amalgamating businesses",description:null,component:K},{id:v.CORRECT_NAME,title:"Edit the company name",description:"Correct typographical errors in the existing company name.",component:X},{id:v.CORRECT_NAME_TO_NUMBER,title:"Use the incorporation number as the name",description:null,component:te},{id:v.CORRECT_NEW_NR,title:"Use a new name request number",description:"Enter the new Name Request Number (e.g., NR 1234567) and either the applicant phone number OR the applicant email that was used when the name was requested.",component:ae},{id:v.CORRECT_AML_NUMBERED,title:"Use the new incorporation number as the name",description:null,component:J},{id:v.CORRECT_NEW_NR_STAFF,title:"Use a new name request number",description:null,component:oe}])}get isOneOption(){return this.correctionNameChoices.length===1}mounted(){this.displayedOptions=this.correctionNameOptions.filter(e=>this.correctionNameChoices.includes(e.id)),this.isOneOption&&(this.panel=0,this.currentFormType=this.displayedOptions[0].id)}onDoneClicked(){this.isSubComponentValid?(this.isLoading=!0,this.emitFormType(this.currentFormType),this.validate=!1):this.validate=!0}identifyForm(e){this.currentFormType=e,this.isSubComponentValid=!1}onCancelClicked(){this.validate=!1,this.panel=null}emitError(e){}emitSaved(e){return this.isLoading=!1,this.emitFormType(null),e&&(this.panel=null),e}emitCompanyName(e){}emitFormType(e){}emitNameRequest(e){}};d([i({default:null})],l.prototype,"actionTxt",2);d([i({default:()=>[]})],l.prototype,"amalgamatingBusinesses",2);d([i({required:!0})],l.prototype,"businessId",2);d([i({required:!0})],l.prototype,"companyName",2);d([i({default:()=>[]})],l.prototype,"correctionNameChoices",2);d([i({required:!0})],l.prototype,"entityType",2);d([i({required:!0})],l.prototype,"fetchAndValidateNr",2);d([i({required:!0})],l.prototype,"formType",2);d([i({required:!0})],l.prototype,"nameRequest",2);d([p("cancel")],l.prototype,"onCancelClicked",1);d([p("error")],l.prototype,"emitError",1);d([p("saved")],l.prototype,"emitSaved",1);d([p("update:companyName")],l.prototype,"emitCompanyName",1);d([p("update:formType")],l.prototype,"emitFormType",1);d([p("update:nameRequest")],l.prototype,"emitNameRequest",1);l=d([x({components:{CorrectAmlAdopt:K,CorrectAmlNumbered:J,CorrectCompanyName:X,CorrectNameToNumber:te,CorrectNameRequest:ae,CorrectNameRequestStaff:oe}})],l);var Be=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("v-container",{staticClass:"pa-0 pr-4",attrs:{id:"correct-name-options"}},[t.isOneOption?t._e():e("p",{staticClass:"info-text mb-0 pb-5 bottom-border"},[t._v(" You can "+t._s(t.actionTxt||"correct the company name")+" in one of the following ways: ")]),e("v-expansion-panels",{staticClass:"bottom-border",attrs:{accordion:""},model:{value:t.panel,callback:function(r){t.panel=r},expression:"panel"}},t._l(t.displayedOptions,function(r,a){return e("v-expansion-panel",{key:a,staticClass:"py-4",attrs:{id:`x-panel-${r.id}`,disabled:t.isOneOption},on:{click:function(s){return t.identifyForm(r.id)}}},[e("v-expansion-panel-header",{class:{"name-options-header":t.isOneOption},scopedSlots:t._u([{key:"actions",fn:function(){return[e("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-menu-down ")])]},proxy:!0}],null,!0)},[e("span",{staticClass:"names-option-title"},[t._v(t._s(r.title))])]),e("v-expansion-panel-content",{staticClass:"name-options-content py-4"},[r.description?e("div",{staticClass:"info-text pb-6",attrs:{color:"primary"}},[t._v(" "+t._s(r.description)+" ")]):t._e(),e(r.component,{key:r.id,tag:"component",attrs:{amalgamatingBusinesses:t.amalgamatingBusinesses,businessId:t.businessId,companyName:t.companyName,entityType:t.entityType,fetchAndValidateNr:t.fetchAndValidateNr,formType:t.formType,nameRequest:t.nameRequest,validate:t.validate},on:{error:function(s){return t.emitError(s)},saved:function(s){return t.emitSaved(s)},"update:nameRequest":function(s){return t.emitNameRequest(s)},"update:companyName":function(s){return t.emitCompanyName(s)},valid:function(s){t.isSubComponentValid=s}}})],1)],1)}),1),e("div",{staticClass:"action-btns"},[e("v-btn",{attrs:{id:"done-btn",large:"",color:"primary",loading:t.isLoading},on:{click:function(r){return t.onDoneClicked()}}},[e("span",[t._v("Done")])]),e("v-btn",{attrs:{id:"cancel-btn",large:"",outlined:"",color:"primary"},on:{click:function(r){return t.onCancelClicked()}}},[e("span",[t._v("Cancel")])])],1)],1)},je=[],se=V(l,Be,je,!1,null,"465aaac9",null,null);const Le=se.exports;se.exports.__docgenInfo={description:`Operation:
1. To initialize this component option list, pass in an array of id's of the components you want to display.
   I.e., ['correct-new-nr', 'correct-name', 'correct-name-to-number']
2. If this options list is only passed one value the option panel will be open by default.
3. The parent component will have to watch for the 'save' and 'cancel' events and handle them accordingly.`,tags:{},exportName:"default",displayName:"CorrectName",props:[{name:"actionTxt",tags:{},type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"amalgamatingBusinesses",tags:{},type:{name:"Array",elements:[{name:"any"}]},defaultValue:{func:!0,value:"() => []"}},{name:"businessId",tags:{},type:{name:"string"},required:!0},{name:"companyName",tags:{},type:{name:"string"},required:!0},{name:"correctionNameChoices",tags:{},type:{name:"Array",elements:[{name:"CorrectNameOptions"}]},defaultValue:{func:!0,value:"() => []"}},{name:"entityType",tags:{},type:{name:"CorpTypeCd"},required:!0},{name:"fetchAndValidateNr",tags:{},type:{name:"TSFunctionType"},required:!0},{name:"formType",tags:{},type:{name:"CorrectNameOptions"},required:!0},{name:"nameRequest",tags:{},type:{name:"NameRequestIF"},required:!0}],events:[{name:"cancel",description:"When Cancel button is clicked, informs parent that name correction is cancelled."},{name:"error",description:"Inform parent of error."},{name:"saved",description:"Inform parent that name correction process is done."},{name:"update:companyName",description:"Inform parent of updated company name."},{name:"update:formType",description:"Inform parent of updated form type."},{name:"update:nameRequest",description:"Inform parent of updated name request object."}],sourceFiles:["/home/severin/repos/bcrs-shared-components/src/components/correct-name/CorrectName.vue"]};const at={title:"component/CorrectName"},w=(n,{argTypes:t})=>({props:Object.keys(t),components:{CorrectName:Le},template:'<correct-name v-bind="$props" />'}),O=w.bind({});O.args={businessId:"BC1234567",entityType:"BC",nameRequest:{},companyName:"Old Company Name",fetchAndValidateNr:()=>{},correctionNameChoices:["correct-name"]};const $=w.bind({});$.args={businessId:"BC1234567",entityType:"BC",nameRequest:{},companyName:"Old Company Name",fetchAndValidateNr:()=>{},correctionNameChoices:["correct-name-to-number","correct-new-nr"]};const A=w.bind({});A.args={businessId:"BC1234567",entityType:"BC",nameRequest:{},companyName:"Old Company Name",fetchAndValidateNr:()=>{},correctionNameChoices:["correct-name-to-number","correct-new-nr-staff"]};var F,M,D;O.parameters={...O.parameters,docs:{...(F=O.parameters)==null?void 0:F.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    CorrectName
  },
  template: '<correct-name v-bind="$props" />' // $props comes from args below
})`,...(D=(M=O.parameters)==null?void 0:M.docs)==null?void 0:D.source}}};var B,j,L;$.parameters={...$.parameters,docs:{...(B=$.parameters)==null?void 0:B.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    CorrectName
  },
  template: '<correct-name v-bind="$props" />' // $props comes from args below
})`,...(L=(j=$.parameters)==null?void 0:j.docs)==null?void 0:L.source}}};var U,k,Y;A.parameters={...A.parameters,docs:{...(U=A.parameters)==null?void 0:U.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    CorrectName
  },
  template: '<correct-name v-bind="$props" />' // $props comes from args below
})`,...(Y=(k=A.parameters)==null?void 0:k.docs)==null?void 0:Y.source}}};const nt=["correctName","correctNameNR","correctNameNRStaff"];export{nt as __namedExportsOrder,O as correctName,$ as correctNameNR,A as correctNameNRStaff,at as default};
//# sourceMappingURL=CorrectName.stories-ad6efeaf.js.map
