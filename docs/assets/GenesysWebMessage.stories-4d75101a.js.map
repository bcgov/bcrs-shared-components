{"version":3,"file":"GenesysWebMessage.stories-4d75101a.js","sources":["../../src/components/genesys-web-message/GenesysWebMessage.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-none\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from 'vue'\r\nimport { Component, Prop } from 'vue-property-decorator'\r\n\r\n/**\r\n * @property {string} genesysURL - the URL to the genesys library\r\n * @property {string} environmentKey - the environment key (ID)\r\n * @property {string} deploymentKey - the deployment key (ID)\r\n * Go To README.md for more details.\r\n */\r\n@Component({})\r\nexport default class GenesysWebMessage extends Vue {\r\n  @Prop({ default: null }) readonly genesysURL!: string\r\n\r\n  @Prop({ default: null }) readonly environmentKey!: string\r\n\r\n  @Prop({ default: '0' }) readonly deploymentKey!: string\r\n\r\n  mounted (): void {\r\n    if (this.genesysURL && this.environmentKey && this.deploymentKey !== '0') {\r\n      this.initWebMsg(\r\n        window,\r\n        'Genesys',\r\n        this.genesysURL,\r\n        {\r\n          environment: this.environmentKey,\r\n          deploymentId: this.deploymentKey\r\n        },\r\n        null\r\n      )\r\n    }\r\n  }\r\n\r\n  // Clear chat history (local variable) when the component is destroyed.\r\n  beforeDestroy (): void {\r\n    localStorage.removeItem('_actmu')\r\n  }\r\n\r\n  /**\r\n   * From MAXIMUS Canada.\r\n   * The New Web-Messaging Solution in Genesys.\r\n   * @param {Window} g the global object\r\n   * @param {string} e the 'Genesys' string\r\n   * @param {string} n the link to the Genesys third-party library\r\n   * @param {string} es the object with the environment and deployment IDs\r\n   * @param {HTMLScriptElement} ys the element to be created\r\n   */\r\n  private initWebMsg (g, e, n, es, ys): void {\r\n    g['_genesysJs'] = e\r\n    g[e] = g[e] || function () {\r\n      (g[e].q = g[e].q || []).push(arguments)\r\n    }\r\n    g[e].t = (new Date()).getTime()\r\n    g[e].c = es\r\n    ys = document.createElement('script')\r\n    ys.async = 1\r\n    ys.src = n\r\n    ys.charset = 'utf-8'\r\n    document.head.appendChild(ys)\r\n    localStorage.removeItem('_actmu')\r\n  }\r\n}\r\n</script>\r\n"],"names":["GenesysWebMessage","Vue","__publicField","g","e","n","es","ys","__decorateClass","Prop","Component"],"mappings":"0dAeA,IAAAA,EAAA,cAAAC,CAAA,CAAA,kCACAC,EAAA,mBAEAA,EAAA,uBAEAA,EAAA,sBAEA,SAAA,CACA,KAAA,YAAA,KAAA,gBAAA,KAAA,gBAAA,KACA,KAAA,WACA,OACA,UACA,KAAA,WACA,CACA,YAAA,KAAA,eACA,aAAA,KAAA,aACA,EACA,IAAA,CAGA,CAGA,eAAA,CACA,aAAA,WAAA,QAAA,CACA,CAWA,WAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,CACAJ,EAAA,WAAAC,EACAD,EAAAC,CAAA,EAAAD,EAAAC,CAAA,GAAA,UAAA,EACAD,EAAAC,CAAA,EAAA,EAAAD,EAAAC,CAAA,EAAA,GAAA,CAAA,GAAA,KAAA,SAAA,CAAA,EAEAD,EAAAC,CAAA,EAAA,EAAA,IAAA,KAAA,EAAA,UACAD,EAAAC,CAAA,EAAA,EAAAE,EACAC,EAAA,SAAA,cAAA,QAAA,EACAA,EAAA,MAAA,EACAA,EAAA,IAAAF,EACAE,EAAA,QAAA,QACA,SAAA,KAAA,YAAAA,CAAA,EACA,aAAA,WAAA,QAAA,CACA,CACA,EAjDAC,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EADAT,EACA,UAAA,aAAA,CAAA,EAEAQ,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAHAT,EAGA,UAAA,iBAAA,CAAA,EAEAQ,EAAA,CAAAC,EAAA,CAAA,QAAA,IAAA,CAAA,EALAT,EAKA,UAAA,gBAAA,CAAA,EALAA,EAAAQ,EAAA,CADAE,EAAA,CAAA,CAAA,CAAA,EACAV,CAAA;;;;;;;;;;;;;;;;"}