{"version":3,"file":"DatePicker-1c254e24.js","sources":["../../src/components/date-picker/DatePicker.vue"],"sourcesContent":["<template>\r\n  <v-form\r\n    ref=\"form\"\r\n    :attach=\"attach\"\r\n    class=\"date-picker-form\"\r\n  >\r\n    <v-menu\r\n      v-model=\"displayPicker\"\r\n      :close-on-click=\"false\"\r\n      :close-on-content-click=\"false\"\r\n      :nudge-top=\"nudgeTop\"\r\n      :nudge-bottom=\"nudgeBottom\"\r\n      :nudge-left=\"nudgeLeft\"\r\n      :nudge-right=\"nudgeRight\"\r\n      transition=\"scale-transition\"\r\n      offset-y\r\n      bottom\r\n      min-width=\"290\"\r\n    >\r\n      <template #activator=\"{ on }\">\r\n        <span\r\n          :class=\"{'date-text-field-pointer': enableSelector}\"\r\n          v-on=\"enableSelector && on\"\r\n        >\r\n          <v-text-field\r\n            id=\"date-text-field\"\r\n            ref=\"dateTextField\"\r\n            append-icon=\"mdi-calendar\"\r\n            autocomplete=\"chrome-off\"\r\n            :clearable=\"clearable\"\r\n            :error-messages=\"errorMsg\"\r\n            :error=\"!!errorMsg\"\r\n            :value=\"displayDate\"\r\n            :label=\"title\"\r\n            :name=\"Math.random()\"\r\n            :rules=\"inputRules\"\r\n            :disabled=\"disablePicker\"\r\n            :hint=\"hint\"\r\n            :persistent-hint=\"persistentHint\"\r\n            readonly\r\n            filled\r\n            @click:clear=\"emitClear()\"\r\n            @keydown=\"$event.preventDefault()\"\r\n            @keyup.enter=\"emitDate(dateText)\"\r\n          />\r\n        </span>\r\n      </template>\r\n      <v-date-picker\r\n        id=\"date-picker-calendar\"\r\n        v-model=\"dateText\"\r\n        width=\"490\"\r\n        :min=\"minDate\"\r\n        :max=\"maxDate\"\r\n      >\r\n        <template #default>\r\n          <div>\r\n            <v-btn\r\n              id=\"btn-done\"\r\n              text\r\n              color=\"primary\"\r\n              @click=\"emitDate(dateText)\"\r\n            >\r\n              <strong>OK</strong>\r\n            </v-btn>\r\n            <v-btn\r\n              id=\"btn-cancel\"\r\n              text\r\n              color=\"primary\"\r\n              @click=\"emitCancel()\"\r\n            >\r\n              Cancel\r\n            </v-btn>\r\n          </div>\r\n        </template>\r\n      </v-date-picker>\r\n    </v-menu>\r\n  </v-form>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Emit, Mixins, Prop, Watch } from 'vue-property-decorator'\r\nimport { FormIF } from '@bcrs-shared-components/interfaces'\r\nimport { DateMixin } from '@/mixins' // NB: local mixin (StoryBook can't find it otherwise)\r\n\r\n@Component({})\r\nexport default class DatePicker extends Mixins(DateMixin) {\r\n  // Add element types to refs\r\n  $refs!: {\r\n    form: FormIF,\r\n    dateTextField: FormIF\r\n  }\r\n\r\n  @Prop({ default: null }) readonly attach!: string\r\n  @Prop({ default: '' }) readonly title!: string\r\n  @Prop({ default: null }) readonly errorMsg!: string\r\n  @Prop({ default: () => [] }) readonly inputRules!: Array<(v) => boolean | string>\r\n  @Prop({ default: false }) readonly disablePicker!: boolean\r\n  @Prop({ default: '' }) readonly initialValue!: string\r\n  @Prop({ default: '' }) readonly minDate!: string\r\n  @Prop({ default: '' }) readonly maxDate!: string\r\n  @Prop({ default: null }) readonly nudgeTop!: number\r\n  @Prop({ default: null }) readonly nudgeBottom!: number\r\n  @Prop({ default: null }) readonly nudgeRight!: number\r\n  @Prop({ default: null }) readonly nudgeLeft!: number\r\n  @Prop({ default: '' }) readonly hint!: string\r\n  @Prop({ default: false }) readonly persistentHint!: boolean\r\n  @Prop({ default: false }) readonly clearable!: boolean\r\n\r\n  private dateText = null\r\n  private displayPicker = false\r\n\r\n  /** Clear local model after each action. */\r\n  public clearDate (): void {\r\n    this.dateText = ''\r\n    this.displayPicker = false\r\n  }\r\n\r\n  /** Triggers the form validation. */\r\n  public validateForm (): boolean {\r\n    return this.$refs.form.validate()\r\n  }\r\n\r\n  /** Returns whether date validation passes. */\r\n  public isDateValid (): boolean {\r\n    return this.$refs?.dateTextField?.valid\r\n  }\r\n\r\n  /** Called when component is created. */\r\n  created (): void {\r\n    this.dateText = this.initialValue\r\n  }\r\n\r\n  /** The display Date. */\r\n  get displayDate (): string {\r\n    return this.yyyyMmDdToPacificDate(this.dateText, true)\r\n  }\r\n\r\n  /** True when the picker is not displayed or disabled. */\r\n  get enableSelector (): boolean {\r\n    return !this.displayPicker && !this.disablePicker\r\n  }\r\n\r\n  /** Emit date to add or remove. */\r\n  @Emit('emitDate')\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  protected emitDate (date: string): void {\r\n    this.displayPicker = false\r\n  }\r\n\r\n  /** Emit cancel event and clear the date. */\r\n  @Emit('emitCancel')\r\n  protected emitCancel (): void {\r\n    this.clearDate()\r\n  }\r\n\r\n  /** Emit clear event and clear the date. */\r\n  @Emit('emitClear')\r\n  protected emitClear (): void {\r\n    this.clearDate()\r\n  }\r\n\r\n  @Watch('dateText')\r\n  @Emit('emitDateSync')\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  private emitDateSync (date: string): string {\r\n    return this.dateText\r\n  }\r\n\r\n  @Watch('$route')\r\n  private hidePicker (): void {\r\n    this.displayPicker = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/theme.scss';\r\n\r\n.date-text-field-pointer {\r\n  cursor: pointer;\r\n\r\n  // disable pointer events when disabled\r\n  .v-text-field.v-input--is-disabled {\r\n    pointer-events: none;\r\n  }\r\n\r\n  // enable pointer events when enabled\r\n  .v-text-field:not(.v-input--is-disabled) {\r\n    pointer-events: auto;\r\n  }\r\n}\r\n\r\n:deep() {\r\n  .v-card__actions {\r\n    justify-content: flex-end;\r\n  }\r\n\r\n  .v-input .v-label {\r\n    font-weight: normal;\r\n    color: $gray7;\r\n  }\r\n\r\n  // hide disabled prev/next month arrow\r\n  .v-date-picker-header .v-btn--disabled {\r\n    display: none;\r\n  }\r\n\r\n  .v-picker__title__btn:not(.v-picker__title__btn--active) {\r\n    opacity: 1;\r\n  }\r\n\r\n  .v-date-picker-table__current {\r\n    border-color: $app-blue !important;\r\n  }\r\n\r\n  .v-date-picker-table__current .v-btn__content{\r\n    color: $app-blue !important;\r\n  }\r\n\r\n  .theme--light.v-date-picker-table th {\r\n    color: $gray9;\r\n  }\r\n\r\n  .v-date-picker-table .v-btn {\r\n    color: $gray7;\r\n  }\r\n\r\n  .theme--light.v-btn:not(.v-btn--flat):not(.v-btn--text):not(.v-btn--outlined) {\r\n    background-color: $app-blue !important;\r\n    border-color: $app-blue !important;\r\n    color: white !important;\r\n  }\r\n\r\n  .v-btn:not(.v-btn--text):not(.v-btn--outlined).v-btn--active:before {\r\n    opacity: 0;\r\n  }\r\n\r\n  .v-icon.v-icon.v-icon--link {\r\n    cursor: text;\r\n  }\r\n\r\n  .v-icon.v-icon.v-icon--link.mdi-close {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .theme--light.v-icon.v-icon.v-icon--disabled {\r\n    color: $app-blue !important;\r\n  }\r\n\r\n  .v-input--is-disabled {\r\n    opacity: 0.4;\r\n  }\r\n\r\n  .theme--light.v-text-field.v-input--is-disabled .v-input__slot:before {\r\n    border-image: none;\r\n  }\r\n\r\n  .v-text-field.v-input--is-readonly .v-input__slot:before {\r\n    border-style: solid !important;\r\n  }\r\n}\r\n</style>\r\n"],"names":["DatePicker","Mixins","DateMixin","__publicField","_b","_a","date","__decorateClass","Prop","Emit","Watch","Component"],"mappings":"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"}