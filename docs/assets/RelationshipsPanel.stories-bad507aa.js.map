{"version":3,"file":"RelationshipsPanel.stories-bad507aa.js","sources":["../../src/enums/relationship-types.ts","../../src/components/relationships-panel/RelationshipsPanel.vue"],"sourcesContent":["export enum RelationshipTypes {\n  COURT_ORDERED_PARTY = 'Court Ordered Party',\n  DIRECTOR = 'Director',\n  HEIR_LEGAL_REP = 'Heir or Legal Representative',\n  OFFICER = 'Officer',\n  SHAREHOLDER = 'Shareholder'\n}\n","<template>\n  <v-card\n    id=\"relationships-panel\"\n    flat\n  >\n    <div\n      class=\"relationship-content\"\n      :style=\"{ backgroundColor: bgHex }\"\n    >\n      <v-row\n        no-gutters\n        class=\"align-center mt-5\"\n      >\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"heir-legal-rep-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.HEIR_LEGAL_REP\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"vuetify-label\">{{ RelationshipTypes.HEIR_LEGAL_REP }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"officer-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.OFFICER\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"vuetify-label\">{{ RelationshipTypes.OFFICER }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"director-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.DIRECTOR\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"vuetify-label\">{{ RelationshipTypes.DIRECTOR }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"shareholder-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.SHAREHOLDER\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"vuetify-label\">{{ RelationshipTypes.SHAREHOLDER }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n        <v-col cols=\"4\">\n          <v-checkbox\n            id=\"court-ordered-party-checkbox\"\n            v-model=\"selectedRelationships\"\n            class=\"mt-0\"\n            :value=\"RelationshipTypes.COURT_ORDERED_PARTY\"\n            :error=\"displayErrorState\"\n          >\n            <template #label>\n              <span class=\"vuetify-label\">{{ RelationshipTypes.COURT_ORDERED_PARTY }}</span>\n            </template>\n          </v-checkbox>\n        </v-col>\n      </v-row>\n    </div>\n  </v-card>\n</template>\n<script lang=\"ts\">\n\nimport Vue from 'vue'\nimport { Component, Watch, Emit, Prop } from 'vue-property-decorator'\nimport { RelationshipTypes } from '@bcrs-shared-components/enums'\n\n@Component({})\nexport default class RelationshipsPanel extends Vue {\n  /** Draft restoration relationships */\n  @Prop({ default: () => [] }) readonly draftRelationships!: RelationshipTypes[]\n  @Prop({ default: '#fff' }) readonly bgHex!: string\n  @Prop({ default: false }) readonly showValidationErrors!: boolean\n\n  // Local properties\n  private selectedRelationships: RelationshipTypes[] = []\n  private displayErrorState = false\n  readonly RelationshipTypes = RelationshipTypes\n\n  /**\n   * Called when component is mounted.\n   * Automatically check all previously checked relationships (if any) when user continues a draft.\n   */\n  mounted (): void {\n    if (this.draftRelationships.length > 0) {\n      this.selectedRelationships.push(...this.draftRelationships)\n    }\n  }\n\n  /** The validation rules for the Relationships. */\n  private setDisplayErrorState (): void {\n    this.displayErrorState = (this.showValidationErrors && this.selectedRelationships.length === 0)\n  }\n\n  // Emit the selected relationships array.\n  @Emit('changed')\n  private relationshipsChanged (): any[] {\n    return this.selectedRelationships\n  }\n\n  // Emit a boolean (validation) which is if at least one relationship is selected.\n  @Emit('valid')\n  private relationshipsValid (event: boolean): boolean {\n    return event\n  }\n\n  /**\n   * Emit events whenever the relationships array is changed (validation and the selected relationships array).\n   */\n  @Watch('selectedRelationships')\n  @Watch('showValidationErrors')\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  private setRelationships (event) {\n    this.setDisplayErrorState()\n    this.relationshipsChanged()\n    if (this.selectedRelationships.length === 0) {\n      this.relationshipsValid(false)\n    } else {\n      this.relationshipsValid(true)\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/theme.scss';\n\n.relationships-content {\n  font-size: 1rem;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: stretch;\n}\n\n.vuetify-label {\n    color: $gray7;\n    font-weight: normal;\n}\n\n</style>\n"],"names":["RelationshipTypes","RelationshipsPanel","Vue","__publicField","event","__decorateClass","Prop","Emit","Watch","Component"],"mappings":"yUAAY,IAAAA,GAAAA,IACVA,EAAA,oBAAsB,sBACtBA,EAAA,SAAW,WACXA,EAAA,eAAiB,+BACjBA,EAAA,QAAU,UACVA,EAAA,YAAc,cALJA,IAAAA,GAAA,CAAA,CAAA,8LCyFZ,IAAAC,EAAA,cAAAC,CAAA,CAAA,kCAEAC,EAAA,2BACAA,EAAA,cACAA,EAAA,6BAGAA,EAAA,6BAAA,CAAA,GACAA,EAAA,yBAAA,IACAA,EAAA,yBAAAH,GAMA,SAAA,CACA,KAAA,mBAAA,OAAA,GACA,KAAA,sBAAA,KAAA,GAAA,KAAA,kBAAA,CAEA,CAGA,sBAAA,CACA,KAAA,kBAAA,KAAA,sBAAA,KAAA,sBAAA,SAAA,CACA,CAIA,sBAAA,CACA,OAAA,KAAA,qBACA,CAIA,mBAAAI,EAAA,CACA,OAAAA,CACA,CAQA,iBAAAA,EAAA,CACA,KAAA,qBAAA,EACA,KAAA,qBAAA,EACA,KAAA,sBAAA,SAAA,EACA,KAAA,mBAAA,EAAA,EAEA,KAAA,mBAAA,EAAA,CAEA,CACA,EAnDAC,EAAA,CAAAC,EAAA,CAAA,QAAA,IAAA,CAAA,EAAA,CAAA,EAFAL,EAEA,UAAA,qBAAA,CAAA,EACAI,EAAA,CAAAC,EAAA,CAAA,QAAA,OAAA,CAAA,EAHAL,EAGA,UAAA,QAAA,CAAA,EACAI,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAJAL,EAIA,UAAA,uBAAA,CAAA,EAwBAI,EAAA,CADAE,EAAA,SAAA,CAAA,EA3BAN,EA4BA,UAAA,uBAAA,CAAA,EAMAI,EAAA,CADAE,EAAA,OAAA,CAAA,EAjCAN,EAkCA,UAAA,qBAAA,CAAA,EAUAI,EAAA,CAHAG,EAAA,uBAAA,EACAA,EAAA,sBAAA,CAAA,EA1CAP,EA4CA,UAAA,mBAAA,CAAA,EA5CAA,EAAAI,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAR,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}