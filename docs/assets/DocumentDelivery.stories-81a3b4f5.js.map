{"version":3,"file":"DocumentDelivery.stories-81a3b4f5.js","sources":["../../src/components/document-delivery/DocumentDelivery.vue"],"sourcesContent":["<template>\r\n  <div id=\"document-delivery\">\r\n    <!-- Contact (required) -->\r\n    <v-row no-gutters>\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"3\"\r\n        class=\"pr-4\"\r\n      >\r\n        <label class=\"title-label\">{{ contactLabel }}</label>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"9\"\r\n      >\r\n        <span id=\"contact-value\">{{ contactValue || '(Not entered)' }}</span>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <!-- Custodian of Records (optional) -->\r\n    <v-row\r\n      v-if=\"showCustodianEmail\"\r\n      no-gutters\r\n      class=\"pt-5\"\r\n    >\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"3\"\r\n        class=\"pr-4\"\r\n      >\r\n        <label class=\"title-label\">Custodian of Records</label>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"9\"\r\n      >\r\n        <span id=\"custodian-email\">{{ custodianEmail || '(Not entered)' }}</span>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <!-- Additional (optional) -->\r\n    <v-row\r\n      v-if=\"additionalLabel\"\r\n      no-gutters\r\n      class=\"pt-5\"\r\n    >\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"3\"\r\n        class=\"pr-4\"\r\n      >\r\n        <label class=\"title-label\">{{ additionalLabel }}</label>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"9\"\r\n      >\r\n        <span id=\"additional-value\">{{ additionalValue || '(Not entered)' }}</span>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <!-- Completing Party (optional) -->\r\n    <v-row\r\n      v-if=\"showCompletingParty\"\r\n      no-gutters\r\n      class=\"pt-5\"\r\n    >\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"3\"\r\n        class=\"pr-4\"\r\n      >\r\n        <label\r\n          class=\"title-label\"\r\n          :class=\"{ 'error-text': invalidSection }\"\r\n        >\r\n          Completing Party\r\n        </label>\r\n      </v-col>\r\n      <v-col\r\n        v-if=\"editableCompletingParty\"\r\n        cols=\"12\"\r\n        sm=\"9\"\r\n      >\r\n        <v-text-field\r\n          id=\"optionalEmail\"\r\n          v-model=\"optionalEmail\"\r\n          filled\r\n          persistent-hint\r\n          validate-on-blur\r\n          class=\"text-input-field\"\r\n          label=\"Client Email Address (Optional)\"\r\n          hint=\"Example: name@email.com\"\r\n          :rules=\"entityEmailRules\"\r\n        />\r\n      </v-col>\r\n      <v-col\r\n        v-else\r\n        cols=\"12\"\r\n        sm=\"9\"\r\n      >\r\n        <span id=\"completing-party-email\">{{ completingPartyEmail || '(Not entered)' }}</span>\r\n      </v-col>\r\n    </v-row>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from 'vue'\r\nimport { Component, Emit, Prop, Watch } from 'vue-property-decorator'\r\n\r\n@Component({})\r\nexport default class DocumentDelivery extends Vue {\r\n  // Contact props\r\n  @Prop({ required: true }) readonly contactLabel!: string\r\n  @Prop({ default: null }) readonly contactValue!: string\r\n\r\n  // Custodian of Records props\r\n  @Prop({ default: false }) readonly showCustodianEmail!: boolean\r\n  @Prop({ default: null }) readonly custodianEmail!: string\r\n\r\n  // Additional props\r\n  @Prop({ default: null }) readonly additionalLabel!: string\r\n  @Prop({ default: null }) readonly additionalValue!: string\r\n\r\n  // Completing Party props\r\n  @Prop({ default: true }) readonly showCompletingParty!: boolean\r\n  @Prop({ default: false }) readonly editableCompletingParty!: boolean\r\n  @Prop({ default: null }) readonly completingPartyEmail!: string\r\n  @Prop({ default: null }) readonly documentOptionalEmail!: string\r\n\r\n  /** Whether to display invalid section styling. */\r\n  @Prop({ default: false }) readonly invalidSection!: boolean\r\n\r\n  // Local properties\r\n  protected optionalEmail = ''\r\n\r\n  readonly entityEmailRules = [\r\n    (v: string) => !/^\\s/g.test(v) || 'Invalid spaces', // leading spaces\r\n    (v: string) => !/\\s$/g.test(v) || 'Invalid spaces', // trailing spaces\r\n    (v: string) => this.validateEmailFormat(v) || 'Enter valid email address'\r\n  ]\r\n\r\n  /** Called when component is mounted. */\r\n  mounted (): void {\r\n    this.optionalEmail = this.documentOptionalEmail\r\n  }\r\n\r\n  private validateEmailFormat (value: string): boolean {\r\n    // allow empty as the email is optional\r\n    if (!value) {\r\n      return true\r\n    } else {\r\n      // eslint-disable-next-line max-len\r\n      const VALID_FORMAT = new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)\r\n      return VALID_FORMAT.test(value)\r\n    }\r\n  }\r\n\r\n  @Watch('optionalEmail')\r\n  private onOptionalEmailChanged (val: string): void {\r\n    if (this.validateEmailFormat(val)) {\r\n      this.emitOptionalEmail()\r\n      this.emitValid(true)\r\n    } else {\r\n      this.emitValid(false)\r\n    }\r\n  }\r\n\r\n  @Emit('update:optionalEmail')\r\n  private emitOptionalEmail (): string {\r\n    return this.optionalEmail\r\n  }\r\n\r\n  @Emit('valid')\r\n  private emitValid (valid: boolean): boolean {\r\n    return valid\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/theme.scss';\r\n\r\n#document-delivery {\r\n  font-size: $px-16;\r\n  color: $gray7;\r\n}\r\n\r\n.title-label {\r\n  color: $gray9;\r\n  font-weight: bold;\r\n}\r\n\r\n// remove extra space taken by error message\r\n:deep(.v-text-field__details) {\r\n  margin-bottom: -8px !important;\r\n}\r\n</style>\r\n"],"names":["DocumentDelivery","Vue","__publicField","v","value","val","valid","__decorateClass","Prop","Watch","Emit","Component"],"mappings":"ygBAgHA,IAAAA,EAAA,cAAAC,CAAA,CAAA,kCAEAC,EAAA,qBACAA,EAAA,qBAGAA,EAAA,2BACAA,EAAA,uBAGAA,EAAA,wBACAA,EAAA,wBAGAA,EAAA,4BACAA,EAAA,gCACAA,EAAA,6BACAA,EAAA,8BAGAA,EAAA,uBAGAA,EAAA,qBAAA,IAEAA,EAAA,wBAAA,CACAC,GAAA,CAAA,OAAA,KAAAA,CAAA,GAAA,iBACAA,GAAA,CAAA,OAAA,KAAAA,CAAA,GAAA,iBACAA,GAAA,KAAA,oBAAAA,CAAA,GAAA,2BAAA,GAIA,SAAA,CACA,KAAA,cAAA,KAAA,qBACA,CAEA,oBAAAC,EAAA,CAEA,OAAAA,EAIA,IAAA,OAAA,sJAAA,EACA,KAAAA,CAAA,EAJA,EAMA,CAGA,uBAAAC,EAAA,CACA,KAAA,oBAAAA,CAAA,GACA,KAAA,kBAAA,EACA,KAAA,UAAA,EAAA,GAEA,KAAA,UAAA,EAAA,CAEA,CAGA,mBAAA,CACA,OAAA,KAAA,aACA,CAGA,UAAAC,EAAA,CACA,OAAAA,CACA,CACA,EAhEAC,EAAA,CAAAC,EAAA,CAAA,SAAA,GAAA,CAAA,EAFAR,EAEA,UAAA,eAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAHAR,EAGA,UAAA,eAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EANAR,EAMA,UAAA,qBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAPAR,EAOA,UAAA,iBAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAVAR,EAUA,UAAA,kBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAXAR,EAWA,UAAA,kBAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAdAR,EAcA,UAAA,sBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAfAR,EAeA,UAAA,0BAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAhBAR,EAgBA,UAAA,uBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAjBAR,EAiBA,UAAA,wBAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EApBAR,EAoBA,UAAA,iBAAA,CAAA,EA4BAO,EAAA,CADAE,EAAA,eAAA,CAAA,EA/CAT,EAgDA,UAAA,yBAAA,CAAA,EAUAO,EAAA,CADAG,EAAA,sBAAA,CAAA,EAzDAV,EA0DA,UAAA,oBAAA,CAAA,EAKAO,EAAA,CADAG,EAAA,OAAA,CAAA,EA9DAV,EA+DA,UAAA,YAAA,CAAA,EA/DAA,EAAAO,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAX,CAAA;;;;;;;;;;;;;;;;"}