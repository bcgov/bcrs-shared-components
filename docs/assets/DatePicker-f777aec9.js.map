{"version":3,"file":"DatePicker-f777aec9.js","sources":["../../src/components/date-picker/DatePicker.vue"],"sourcesContent":["<template>\n  <v-form\n    ref=\"form\"\n    :attach=\"attach\"\n    class=\"date-picker-form\"\n  >\n    <v-menu\n      v-model=\"displayPicker\"\n      :close-on-click=\"false\"\n      :close-on-content-click=\"false\"\n      :nudge-top=\"nudgeTop\"\n      :nudge-bottom=\"nudgeBottom\"\n      :nudge-left=\"nudgeLeft\"\n      :nudge-right=\"nudgeRight\"\n      transition=\"scale-transition\"\n      offset-y\n      bottom\n      min-width=\"290\"\n    >\n      <template #activator=\"{ on }\">\n        <span\n          :class=\"{'date-text-field-pointer': enableSelector}\"\n          v-on=\"enableSelector && on\"\n        >\n          <v-text-field\n            id=\"date-text-field\"\n            ref=\"dateTextField\"\n            :append-icon=\"appendIcon\"\n            autocomplete=\"chrome-off\"\n            :class=\"{ 'disable-picker': disablePicker }\"\n            :clearable=\"clearable\"\n            :error-messages=\"errorMsg\"\n            :error=\"!!errorMsg\"\n            :value=\"displayDate\"\n            :label=\"title\"\n            :name=\"Math.random()\"\n            :rules=\"inputRules\"\n            :hint=\"hint\"\n            :persistent-hint=\"persistentHint\"\n            hide-details=\"auto\"\n            readonly\n            filled\n            @click:clear=\"emitClear()\"\n            @keydown=\"$event.preventDefault()\"\n            @keyup.enter=\"emitDate(dateText)\"\n          />\n        </span>\n      </template>\n      <v-date-picker\n        id=\"date-picker-calendar\"\n        v-model=\"dateText\"\n        width=\"490\"\n        :show-current=\"showCurrent\"\n        :min=\"minDate\"\n        :max=\"maxDate\"\n      >\n        <template #default>\n          <div>\n            <v-btn\n              id=\"btn-done\"\n              text\n              color=\"primary\"\n              @click=\"emitDate(dateText)\"\n            >\n              <span class=\"font-weight-bold\">OK</span>\n            </v-btn>\n            <v-btn\n              id=\"btn-cancel\"\n              text\n              color=\"primary\"\n              @click=\"emitCancel()\"\n            >\n              <span>Cancel</span>\n            </v-btn>\n          </div>\n        </template>\n      </v-date-picker>\n    </v-menu>\n  </v-form>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Emit, Mixins, Prop, Watch } from 'vue-property-decorator'\nimport { FormIF } from '@bcrs-shared-components/interfaces'\nimport { DateMixin } from '@/mixins' // NB: local mixin (StoryBook can't find it otherwise)\n\n@Component({})\nexport default class DatePicker extends Mixins(DateMixin) {\n  // Add element types to refs\n  $refs!: {\n    form: FormIF,\n    dateTextField: FormIF\n  }\n\n  @Prop({ default: null }) readonly attach!: string\n  @Prop({ default: '' }) readonly title!: string\n  @Prop({ default: null }) readonly errorMsg!: string\n  @Prop({ default: () => [] }) readonly inputRules!: Array<(v) => boolean | string>\n  @Prop({ default: false }) readonly disablePicker!: boolean\n  @Prop({ default: null }) readonly initialValue!: string\n  @Prop({ default: true }) readonly showCurrent!: boolean | string\n  @Prop({ default: '' }) readonly minDate!: string\n  @Prop({ default: '' }) readonly maxDate!: string\n  @Prop({ default: null }) readonly nudgeTop!: number\n  @Prop({ default: null }) readonly nudgeBottom!: number\n  @Prop({ default: null }) readonly nudgeRight!: number\n  @Prop({ default: null }) readonly nudgeLeft!: number\n  @Prop({ default: '' }) readonly hint!: string\n  @Prop({ default: false }) readonly persistentHint!: boolean\n  @Prop({ default: false }) readonly clearable!: boolean\n  @Prop({ default: 'mdi-calendar' }) readonly appendIcon!: string\n\n  dateText = null\n  displayPicker = false\n\n  /** Clear local model after each action. */\n  public clearDate (): void {\n    this.dateText = ''\n    this.displayPicker = false\n  }\n\n  /** Triggers the form validation. */\n  public validateForm (): boolean {\n    return this.$refs.form.validate()\n  }\n\n  /** Returns whether date validation passes. */\n  public isDateValid (): boolean {\n    return this.$refs?.dateTextField?.valid\n  }\n\n  /** Called when component is created. */\n  created (): void {\n    this.dateText = this.initialValue\n  }\n\n  /** The display Date. */\n  get displayDate (): string {\n    return this.yyyyMmDdToPacificDate(this.dateText, true)\n  }\n\n  /** True when the picker is not displayed or disabled. */\n  get enableSelector (): boolean {\n    return (!this.displayPicker && !this.disablePicker)\n  }\n\n  /** Emit date to add or remove. */\n  @Emit('emitDate')\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  emitDate (date: string): void {\n    this.displayPicker = false\n  }\n\n  /** Emit cancel event and clear the date. */\n  @Emit('emitCancel')\n  emitCancel (): void {\n    this.clearDate()\n  }\n\n  /** Emit clear event and clear the date. */\n  @Emit('emitClear')\n  emitClear (): void {\n    this.clearDate()\n  }\n\n  @Watch('dateText')\n  @Emit('emitDateSync')\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  private emitDateSync (): string {\n    return this.dateText\n  }\n\n  @Watch('$route')\n  private hidePicker (): void {\n    this.displayPicker = false\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/theme.scss';\n\n.date-text-field-pointer {\n  cursor: pointer;\n\n  // disable pointer events when disabled\n  .v-text-field.v-input--is-disabled {\n    pointer-events: none;\n  }\n\n  // enable pointer events when enabled\n  .v-text-field:not(.v-input--is-disabled) {\n    pointer-events: auto;\n  }\n}\n\n:deep() {\n  .v-card__actions {\n    justify-content: flex-end;\n  }\n\n  .v-input .v-label {\n    font-weight: normal;\n    color: $gray7;\n  }\n\n  // hide disabled prev/next month arrow\n  .v-date-picker-header .v-btn--disabled {\n    display: none;\n  }\n\n  .v-picker__title__btn:not(.v-picker__title__btn--active) {\n    opacity: 1;\n  }\n\n  .v-date-picker-table__current {\n    border-color: $app-blue !important;\n  }\n\n  .v-date-picker-table__current .v-btn__content{\n    color: $app-blue !important;\n  }\n\n  .theme--light.v-date-picker-table th {\n    color: $gray9;\n  }\n\n  .v-date-picker-table .v-btn {\n    color: $gray7;\n  }\n\n  .theme--light.v-btn:not(.v-btn--flat):not(.v-btn--text):not(.v-btn--outlined) {\n    background-color: $app-blue !important;\n    border-color: $app-blue !important;\n    color: white !important;\n  }\n\n  .v-btn:not(.v-btn--text):not(.v-btn--outlined).v-btn--active:before {\n    opacity: 0;\n  }\n\n  .v-icon.v-icon.v-icon--link {\n    cursor: text;\n  }\n\n  .v-icon.v-icon.v-icon--link.mdi-close {\n    cursor: pointer;\n  }\n\n  .theme--light.v-icon.v-icon.v-icon--disabled {\n    color: $app-blue !important;\n  }\n\n  // when picker is disabled, reduce label opacity (same as readonly text fields)\n  .disable-picker label {\n    opacity: 0.87;\n  }\n\n  // when picker is disabled, hide the calendar icon\n  .disable-picker .v-input__icon--append {\n    display: none;\n  }\n\n  // when picked is not disabled (even though it's readonly), show the bottom line as solid\n  .v-text-field.v-input--is-readonly:not(.disable-picker) .v-input__slot:before {\n    border-style: solid !important;\n  }\n}\n</style>\n"],"names":["DatePicker","Mixins","DateMixin","__publicField","_b","_a","date","__decorateClass","Prop","Emit","Watch","Component"],"mappings":"yhBAuFA,IAAAA,EAAA,cAAAC,EAAAC,CAAA,CAAA,CAAA,kCAEAC,EAAA,cAKAA,EAAA,eACAA,EAAA,cACAA,EAAA,iBACAA,EAAA,mBACAA,EAAA,sBACAA,EAAA,qBACAA,EAAA,oBACAA,EAAA,gBACAA,EAAA,gBACAA,EAAA,iBACAA,EAAA,oBACAA,EAAA,mBACAA,EAAA,kBACAA,EAAA,aACAA,EAAA,uBACAA,EAAA,kBACAA,EAAA,mBAEAA,EAAA,gBAAA,MACAA,EAAA,qBAAA,IAGA,WAAA,CACA,KAAA,SAAA,GACA,KAAA,cAAA,EACA,CAGA,cAAA,CACA,OAAA,KAAA,MAAA,KAAA,SAAA,CACA,CAGA,aAAA,SACA,OAAAC,GAAAC,EAAA,KAAA,QAAA,YAAAA,EAAA,gBAAA,YAAAD,EAAA,KACA,CAGA,SAAA,CACA,KAAA,SAAA,KAAA,YACA,CAGA,IAAA,aAAA,CACA,OAAA,KAAA,sBAAA,KAAA,SAAA,EAAA,CACA,CAGA,IAAA,gBAAA,CACA,MAAA,CAAA,KAAA,eAAA,CAAA,KAAA,aACA,CAKA,SAAAE,EAAA,CACA,KAAA,cAAA,EACA,CAIA,YAAA,CACA,KAAA,UAAA,CACA,CAIA,WAAA,CACA,KAAA,UAAA,CACA,CAKA,cAAA,CACA,OAAA,KAAA,QACA,CAGA,YAAA,CACA,KAAA,cAAA,EACA,CACA,EAlFAC,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAPAR,EAOA,UAAA,SAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EARAR,EAQA,UAAA,QAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EATAR,EASA,UAAA,WAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,IAAA,CAAA,EAAA,CAAA,EAVAR,EAUA,UAAA,aAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAXAR,EAWA,UAAA,gBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAZAR,EAYA,UAAA,eAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAbAR,EAaA,UAAA,cAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAdAR,EAcA,UAAA,UAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAfAR,EAeA,UAAA,UAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAhBAR,EAgBA,UAAA,WAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAjBAR,EAiBA,UAAA,cAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAlBAR,EAkBA,UAAA,aAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAnBAR,EAmBA,UAAA,YAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EApBAR,EAoBA,UAAA,OAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EArBAR,EAqBA,UAAA,iBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAtBAR,EAsBA,UAAA,YAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,eAAA,CAAA,EAvBAR,EAuBA,UAAA,aAAA,CAAA,EAuCAO,EAAA,CAFAE,EAAA,UAAA,CAAA,EA5DAT,EA8DA,UAAA,WAAA,CAAA,EAMAO,EAAA,CADAE,EAAA,YAAA,CAAA,EAnEAT,EAoEA,UAAA,aAAA,CAAA,EAMAO,EAAA,CADAE,EAAA,WAAA,CAAA,EAzEAT,EA0EA,UAAA,YAAA,CAAA,EAOAO,EAAA,CAHAG,EAAA,UAAA,EACAD,EAAA,cAAA,CAAA,EA/EAT,EAiFA,UAAA,eAAA,CAAA,EAKAO,EAAA,CADAG,EAAA,QAAA,CAAA,EArFAV,EAsFA,UAAA,aAAA,CAAA,EAtFAA,EAAAO,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAX,CAAA;;;;"}