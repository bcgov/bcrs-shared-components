{"version":3,"file":"GenesysWebMessage.stories-355f3d60.js","sources":["../../src/components/genesys-web-message/GenesysWebMessage.vue"],"sourcesContent":["<template>\n  <div class=\"d-none\" />\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue'\nimport { Component, Prop } from 'vue-property-decorator'\n\n/**\n * @property {string} genesysURL - the URL to the genesys library\n * @property {string} environmentKey - the environment key (ID)\n * @property {string} deploymentKey - the deployment key (ID)\n * Go To README.md for more details.\n */\n@Component({})\nexport default class GenesysWebMessage extends Vue {\n  @Prop({ default: null }) readonly genesysURL!: string\n\n  @Prop({ default: null }) readonly environmentKey!: string\n\n  @Prop({ default: '0' }) readonly deploymentKey!: string\n\n  mounted (): void {\n    if (this.genesysURL && this.environmentKey && this.deploymentKey !== '0') {\n      this.initWebMsg(\n        window,\n        'Genesys',\n        this.genesysURL,\n        {\n          environment: this.environmentKey,\n          deploymentId: this.deploymentKey\n        },\n        null\n      )\n    }\n  }\n\n  // Clear chat history (local variable) when the component is destroyed.\n  beforeDestroy (): void {\n    localStorage.removeItem('_actmu')\n  }\n\n  /**\n   * From MAXIMUS Canada.\n   * The New Web-Messaging Solution in Genesys.\n   * @param {Window} g the global object\n   * @param {string} e the 'Genesys' string\n   * @param {string} n the link to the Genesys third-party library\n   * @param {string} es the object with the environment and deployment IDs\n   * @param {HTMLScriptElement} ys the element to be created\n   */\n  private initWebMsg (g, e, n, es, ys): void {\n    g['_genesysJs'] = e\n    g[e] = g[e] || function () {\n      (g[e].q = g[e].q || []).push(arguments)\n    }\n    g[e].t = (new Date()).getTime()\n    g[e].c = es\n    ys = document.createElement('script')\n    ys.async = 1\n    ys.src = n\n    ys.charset = 'utf-8'\n    document.head.appendChild(ys)\n    localStorage.removeItem('_actmu')\n  }\n}\n</script>\n"],"names":["GenesysWebMessage","Vue","__publicField","g","e","n","es","ys","__decorateClass","Prop","Component"],"mappings":"0dAeA,IAAAA,EAAA,cAAAC,CAAA,CAAA,kCACAC,EAAA,mBAEAA,EAAA,uBAEAA,EAAA,sBAEA,SAAA,CACA,KAAA,YAAA,KAAA,gBAAA,KAAA,gBAAA,KACA,KAAA,WACA,OACA,UACA,KAAA,WACA,CACA,YAAA,KAAA,eACA,aAAA,KAAA,aACA,EACA,IAAA,CAGA,CAGA,eAAA,CACA,aAAA,WAAA,QAAA,CACA,CAWA,WAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,CACAJ,EAAA,WAAAC,EACAD,EAAAC,CAAA,EAAAD,EAAAC,CAAA,GAAA,UAAA,EACAD,EAAAC,CAAA,EAAA,EAAAD,EAAAC,CAAA,EAAA,GAAA,CAAA,GAAA,KAAA,SAAA,CAAA,EAEAD,EAAAC,CAAA,EAAA,EAAA,IAAA,KAAA,EAAA,UACAD,EAAAC,CAAA,EAAA,EAAAE,EACAC,EAAA,SAAA,cAAA,QAAA,EACAA,EAAA,MAAA,EACAA,EAAA,IAAAF,EACAE,EAAA,QAAA,QACA,SAAA,KAAA,YAAAA,CAAA,EACA,aAAA,WAAA,QAAA,CACA,CACA,EAjDAC,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EADAT,EACA,UAAA,aAAA,CAAA,EAEAQ,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAHAT,EAGA,UAAA,iBAAA,CAAA,EAEAQ,EAAA,CAAAC,EAAA,CAAA,QAAA,IAAA,CAAA,EALAT,EAKA,UAAA,gBAAA,CAAA,EALAA,EAAAQ,EAAA,CADAE,EAAA,CAAA,CAAA,CAAA,EACAV,CAAA;;;;;;;;;;;;;;;;"}