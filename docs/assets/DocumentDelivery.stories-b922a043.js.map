{"version":3,"file":"DocumentDelivery.stories-b922a043.js","sources":["../../src/components/document-delivery/DocumentDelivery.vue"],"sourcesContent":["<template>\n  <div id=\"document-delivery\">\n    <!-- Contact (required) -->\n    <v-row no-gutters>\n      <v-col\n        cols=\"12\"\n        sm=\"3\"\n        class=\"pr-4\"\n      >\n        <label class=\"title-label\">{{ contactLabel }}</label>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        sm=\"9\"\n      >\n        <span id=\"contact-value\">{{ contactValue || '(Not entered)' }}</span>\n      </v-col>\n    </v-row>\n\n    <!-- Custodian of Records (optional) -->\n    <v-row\n      v-if=\"showCustodianEmail\"\n      no-gutters\n      class=\"pt-5\"\n    >\n      <v-col\n        cols=\"12\"\n        sm=\"3\"\n        class=\"pr-4\"\n      >\n        <label class=\"title-label\">Custodian of Records</label>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        sm=\"9\"\n      >\n        <span id=\"custodian-email\">{{ custodianEmail || '(Not entered)' }}</span>\n      </v-col>\n    </v-row>\n\n    <!-- Additional (optional) -->\n    <v-row\n      v-if=\"additionalLabel\"\n      no-gutters\n      class=\"pt-5\"\n    >\n      <v-col\n        cols=\"12\"\n        sm=\"3\"\n        class=\"pr-4\"\n      >\n        <label class=\"title-label\">{{ additionalLabel }}</label>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        sm=\"9\"\n      >\n        <span id=\"additional-value\">{{ additionalValue || '(Not entered)' }}</span>\n      </v-col>\n    </v-row>\n\n    <!-- Completing Party (optional) -->\n    <v-row\n      v-if=\"showCompletingParty\"\n      no-gutters\n      class=\"pt-5\"\n    >\n      <v-col\n        cols=\"12\"\n        sm=\"3\"\n        class=\"pr-4\"\n      >\n        <label\n          class=\"title-label\"\n          :class=\"{ 'error-text': invalidSection }\"\n        >\n          Completing Party\n        </label>\n      </v-col>\n      <v-col\n        v-if=\"editableCompletingParty\"\n        cols=\"12\"\n        sm=\"9\"\n      >\n        <v-text-field\n          id=\"optionalEmail\"\n          v-model=\"optionalEmail\"\n          filled\n          persistent-hint\n          validate-on-blur\n          class=\"text-input-field\"\n          label=\"Client Email Address (Optional)\"\n          hint=\"Example: name@email.com\"\n          :rules=\"entityEmailRules\"\n        />\n      </v-col>\n      <v-col\n        v-else\n        cols=\"12\"\n        sm=\"9\"\n      >\n        <span id=\"completing-party-email\">{{ completingPartyEmail || '(Not entered)' }}</span>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue'\nimport { Component, Emit, Prop, Watch } from 'vue-property-decorator'\n\n@Component({})\nexport default class DocumentDelivery extends Vue {\n  // Contact props\n  @Prop({ required: true }) readonly contactLabel!: string\n  @Prop({ default: null }) readonly contactValue!: string\n\n  // Custodian of Records props\n  @Prop({ default: false }) readonly showCustodianEmail!: boolean\n  @Prop({ default: null }) readonly custodianEmail!: string\n\n  // Additional props\n  @Prop({ default: null }) readonly additionalLabel!: string\n  @Prop({ default: null }) readonly additionalValue!: string\n\n  // Completing Party props\n  @Prop({ default: true }) readonly showCompletingParty!: boolean\n  @Prop({ default: false }) readonly editableCompletingParty!: boolean\n  @Prop({ default: null }) readonly completingPartyEmail!: string\n  @Prop({ default: null }) readonly documentOptionalEmail!: string\n\n  /** Whether to display invalid section styling. */\n  @Prop({ default: false }) readonly invalidSection!: boolean\n\n  // Local properties\n  protected optionalEmail = ''\n\n  readonly entityEmailRules = [\n    (v: string) => !/^\\s/g.test(v) || 'Invalid spaces', // leading spaces\n    (v: string) => !/\\s$/g.test(v) || 'Invalid spaces', // trailing spaces\n    (v: string) => this.validateEmailFormat(v) || 'Enter valid email address'\n  ]\n\n  /** Called when component is mounted. */\n  mounted (): void {\n    this.optionalEmail = this.documentOptionalEmail\n  }\n\n  private validateEmailFormat (value: string): boolean {\n    // allow empty as the email is optional\n    if (!value) {\n      return true\n    } else {\n      // eslint-disable-next-line max-len\n      const VALID_FORMAT = new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)\n      return VALID_FORMAT.test(value)\n    }\n  }\n\n  @Watch('optionalEmail')\n  private onOptionalEmailChanged (val: string): void {\n    if (this.validateEmailFormat(val)) {\n      this.emitOptionalEmail()\n      this.emitValid(true)\n    } else {\n      this.emitValid(false)\n    }\n  }\n\n  @Emit('update:optionalEmail')\n  private emitOptionalEmail (): string {\n    return this.optionalEmail\n  }\n\n  @Emit('valid')\n  private emitValid (valid: boolean): boolean {\n    return valid\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/theme.scss';\n\n#document-delivery {\n  font-size: $px-16;\n  color: $gray7;\n}\n\n.title-label {\n  color: $gray9;\n  font-weight: bold;\n}\n\n// remove extra space taken by error message\n:deep(.v-text-field__details) {\n  margin-bottom: -8px !important;\n}\n</style>\n"],"names":["DocumentDelivery","Vue","__publicField","v","value","val","valid","__decorateClass","Prop","Watch","Emit","Component"],"mappings":"ogBAgHA,IAAAA,EAAA,cAAAC,CAAA,CAAA,kCAEAC,EAAA,qBACAA,EAAA,qBAGAA,EAAA,2BACAA,EAAA,uBAGAA,EAAA,wBACAA,EAAA,wBAGAA,EAAA,4BACAA,EAAA,gCACAA,EAAA,6BACAA,EAAA,8BAGAA,EAAA,uBAGAA,EAAA,qBAAA,IAEAA,EAAA,wBAAA,CACAC,GAAA,CAAA,OAAA,KAAAA,CAAA,GAAA,iBACAA,GAAA,CAAA,OAAA,KAAAA,CAAA,GAAA,iBACAA,GAAA,KAAA,oBAAAA,CAAA,GAAA,2BAAA,GAIA,SAAA,CACA,KAAA,cAAA,KAAA,qBACA,CAEA,oBAAAC,EAAA,CAEA,OAAAA,EAIA,IAAA,OAAA,sJAAA,EACA,KAAAA,CAAA,EAJA,EAMA,CAGA,uBAAAC,EAAA,CACA,KAAA,oBAAAA,CAAA,GACA,KAAA,kBAAA,EACA,KAAA,UAAA,EAAA,GAEA,KAAA,UAAA,EAAA,CAEA,CAGA,mBAAA,CACA,OAAA,KAAA,aACA,CAGA,UAAAC,EAAA,CACA,OAAAA,CACA,CACA,EAhEAC,EAAA,CAAAC,EAAA,CAAA,SAAA,GAAA,CAAA,EAFAR,EAEA,UAAA,eAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAHAR,EAGA,UAAA,eAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EANAR,EAMA,UAAA,qBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAPAR,EAOA,UAAA,iBAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAVAR,EAUA,UAAA,kBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAXAR,EAWA,UAAA,kBAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAdAR,EAcA,UAAA,sBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EAfAR,EAeA,UAAA,0BAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAhBAR,EAgBA,UAAA,uBAAA,CAAA,EACAO,EAAA,CAAAC,EAAA,CAAA,QAAA,KAAA,CAAA,EAjBAR,EAiBA,UAAA,wBAAA,CAAA,EAGAO,EAAA,CAAAC,EAAA,CAAA,QAAA,GAAA,CAAA,EApBAR,EAoBA,UAAA,iBAAA,CAAA,EA4BAO,EAAA,CADAE,EAAA,eAAA,CAAA,EA/CAT,EAgDA,UAAA,yBAAA,CAAA,EAUAO,EAAA,CADAG,EAAA,sBAAA,CAAA,EAzDAV,EA0DA,UAAA,oBAAA,CAAA,EAKAO,EAAA,CADAG,EAAA,OAAA,CAAA,EA9DAV,EA+DA,UAAA,YAAA,CAAA,EA/DAA,EAAAO,EAAA,CADAI,EAAA,CAAA,CAAA,CAAA,EACAX,CAAA;;;;;;;;;;;;;;;;"}